"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903],{57965:function(t,e,r){r.d(e,{mnA:function(){return ln},xje:function(){return Bo},T2j:function(){return Nr},blY:function(){return Cr},n2N:function(){return Mr},QaF:function(){return Fr},zbr:function(){return Ir},P9T:function(){return cn},fLV:function(){return sn},zwG:function(){return Hr}});r(67294);var n=r(60406),o=r(92764),i=r(72606),a=r(57645);r(97762);var u=Array.isArray;var c=function(){if(!arguments.length)return[];var t=arguments[0];return u(t)?t:[t]};const s=(t,e)=>!e||("object"===typeof e?Object.entries(e).every((([e,r])=>c(r).includes(t[e]))):e(t)),l=(t,e)=>({...e,match:r=>s(r,e.match)&&(!(null!==e&&void 0!==e&&e.block)||n.Editor.isBlock(t,r))}),f=(t,e={})=>{const{at:r=t.selection,voids:o,unhang:i=!0}=e;n.Range.isRange(r)&&i&&(e.at=n.Editor.unhangRange(t,r,{voids:o}))},v=(t,e={})=>{try{const r=((t,e={})=>(f(t,e),n.Editor.nodes(t,l(t,e))))(t,{at:t.selection||[],...l(t,e)});for(const[t,e]of r)return[t,e]}catch(r){return}},d=(t,e={})=>((t,e={})=>n.Editor.above(t,l(t,e)))(t,{...e,block:!0}),p=n.Element.isElement,h=t=>n.Editor.isEditor(t)||p(t);var y=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o};var b=function(){this.__data__=[],this.size=0};var g=function(t,e){return t===e||t!==t&&e!==e};var j=function(t,e){for(var r=t.length;r--;)if(g(t[r][0],e))return r;return-1},m=Array.prototype.splice;var w=function(t){var e=this.__data__,r=j(e,t);return!(r<0)&&(r==e.length-1?e.pop():m.call(e,r,1),--this.size,!0)};var _=function(t){var e=this.__data__,r=j(e,t);return r<0?void 0:e[r][1]};var O=function(t){return j(this.__data__,t)>-1};var k=function(t,e){var r=this.__data__,n=j(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function E(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}E.prototype.clear=b,E.prototype.delete=w,E.prototype.get=_,E.prototype.has=O,E.prototype.set=k;var x=E;var A=function(){this.__data__=new x,this.size=0};var P=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var T=function(t){return this.__data__.get(t)};var S=function(t){return this.__data__.has(t)},B="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{};function z(t,e){return t(e={exports:{}},e.exports),e.exports}var D="object"==typeof B&&B&&B.Object===Object&&B,N="object"==typeof self&&self&&self.Object===Object&&self,K=D||N||Function("return this")(),C=K.Symbol,M=Object.prototype,F=M.hasOwnProperty,I=M.toString,R=C?C.toStringTag:void 0;var L=function(t){var e=F.call(t,R),r=t[R];try{t[R]=void 0;var n=!0}catch(i){}var o=I.call(t);return n&&(e?t[R]=r:delete t[R]),o},H=Object.prototype.toString;var U=function(t){return H.call(t)},V=C?C.toStringTag:void 0;var $=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":V&&V in Object(t)?L(t):U(t)};var q=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var W=function(t){if(!q(t))return!1;var e=$(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},G=K["__core-js_shared__"],Y=function(){var t=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var J=function(t){return!!Y&&Y in t},Q=Function.prototype.toString;var X=function(t){if(null!=t){try{return Q.call(t)}catch(e){}try{return t+""}catch(e){}}return""},Z=/^\[object .+?Constructor\]$/,tt=Function.prototype,et=Object.prototype,rt=tt.toString,nt=et.hasOwnProperty,ot=RegExp("^"+rt.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var it=function(t){return!(!q(t)||J(t))&&(W(t)?ot:Z).test(X(t))};var at=function(t,e){return null==t?void 0:t[e]};var ut=function(t,e){var r=at(t,e);return it(r)?r:void 0},ct=ut(K,"Map"),st=ut(Object,"create");var lt=function(){this.__data__=st?st(null):{},this.size=0};var ft=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},vt=Object.prototype.hasOwnProperty;var dt=function(t){var e=this.__data__;if(st){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return vt.call(e,t)?e[t]:void 0},pt=Object.prototype.hasOwnProperty;var ht=function(t){var e=this.__data__;return st?void 0!==e[t]:pt.call(e,t)};var yt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=st&&void 0===e?"__lodash_hash_undefined__":e,this};function bt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bt.prototype.clear=lt,bt.prototype.delete=ft,bt.prototype.get=dt,bt.prototype.has=ht,bt.prototype.set=yt;var gt=bt;var jt=function(){this.size=0,this.__data__={hash:new gt,map:new(ct||x),string:new gt}};var mt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var wt=function(t,e){var r=t.__data__;return mt(e)?r["string"==typeof e?"string":"hash"]:r.map};var _t=function(t){var e=wt(this,t).delete(t);return this.size-=e?1:0,e};var Ot=function(t){return wt(this,t).get(t)};var kt=function(t){return wt(this,t).has(t)};var Et=function(t,e){var r=wt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function xt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xt.prototype.clear=jt,xt.prototype.delete=_t,xt.prototype.get=Ot,xt.prototype.has=kt,xt.prototype.set=Et;var At=xt;var Pt=function(t,e){var r=this.__data__;if(r instanceof x){var n=r.__data__;if(!ct||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new At(n)}return r.set(t,e),this.size=r.size,this};function Tt(t){var e=this.__data__=new x(t);this.size=e.size}Tt.prototype.clear=A,Tt.prototype.delete=P,Tt.prototype.get=T,Tt.prototype.has=S,Tt.prototype.set=Pt;var St=Tt;var Bt=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var zt=function(t){return this.__data__.has(t)};function Dt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new At;++e<r;)this.add(t[e])}Dt.prototype.add=Dt.prototype.push=Bt,Dt.prototype.has=zt;var Nt=Dt;var Kt=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var Ct=function(t,e){return t.has(e)};var Mt=function(t,e,r,n,o,i){var a=1&r,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t),l=i.get(e);if(s&&l)return s==e&&l==t;var f=-1,v=!0,d=2&r?new Nt:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var p=t[f],h=e[f];if(n)var y=a?n(h,p,f,e,t,i):n(p,h,f,t,e,i);if(void 0!==y){if(y)continue;v=!1;break}if(d){if(!Kt(e,(function(t,e){if(!Ct(d,e)&&(p===t||o(p,t,r,n,i)))return d.push(e)}))){v=!1;break}}else if(p!==h&&!o(p,h,r,n,i)){v=!1;break}}return i.delete(t),i.delete(e),v},Ft=K.Uint8Array;var It=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var Rt=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},Lt=C?C.prototype:void 0,Ht=Lt?Lt.valueOf:void 0;var Ut=function(t,e,r,n,o,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Ft(t),new Ft(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return g(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=It;case"[object Set]":var c=1&n;if(u||(u=Rt),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;n|=2,a.set(t,e);var l=Mt(u(t),u(e),n,o,i,a);return a.delete(t),l;case"[object Symbol]":if(Ht)return Ht.call(t)==Ht.call(e)}return!1};var Vt=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t};var $t=function(t,e,r){var n=e(t);return u(t)?n:Vt(n,r(t))};var qt=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i};var Wt=function(){return[]},Gt=Object.prototype.propertyIsEnumerable,Yt=Object.getOwnPropertySymbols,Jt=Yt?function(t){return null==t?[]:(t=Object(t),qt(Yt(t),(function(e){return Gt.call(t,e)})))}:Wt;var Qt=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var Xt=function(t){return null!=t&&"object"==typeof t};var Zt=function(t){return Xt(t)&&"[object Arguments]"==$(t)},te=Object.prototype,ee=te.hasOwnProperty,re=te.propertyIsEnumerable,ne=Zt(function(){return arguments}())?Zt:function(t){return Xt(t)&&ee.call(t,"callee")&&!re.call(t,"callee")},oe=ne;var ie=function(){return!1},ae=z((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?K.Buffer:void 0,i=(o?o.isBuffer:void 0)||ie;t.exports=i})),ue=/^(?:0|[1-9]\d*)$/;var ce=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&ue.test(t))&&t>-1&&t%1==0&&t<e};var se=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},le={};le["[object Float32Array]"]=le["[object Float64Array]"]=le["[object Int8Array]"]=le["[object Int16Array]"]=le["[object Int32Array]"]=le["[object Uint8Array]"]=le["[object Uint8ClampedArray]"]=le["[object Uint16Array]"]=le["[object Uint32Array]"]=!0,le["[object Arguments]"]=le["[object Array]"]=le["[object ArrayBuffer]"]=le["[object Boolean]"]=le["[object DataView]"]=le["[object Date]"]=le["[object Error]"]=le["[object Function]"]=le["[object Map]"]=le["[object Number]"]=le["[object Object]"]=le["[object RegExp]"]=le["[object Set]"]=le["[object String]"]=le["[object WeakMap]"]=!1;var fe=function(t){return Xt(t)&&se(t.length)&&!!le[$(t)]};var ve=function(t){return function(e){return t(e)}},de=z((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&D.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=i})),pe=de&&de.isTypedArray,he=pe?ve(pe):fe,ye=Object.prototype.hasOwnProperty;var be=function(t,e){var r=u(t),n=!r&&oe(t),o=!r&&!n&&ae(t),i=!r&&!n&&!o&&he(t),a=r||n||o||i,c=a?Qt(t.length,String):[],s=c.length;for(var l in t)!e&&!ye.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ce(l,s))||c.push(l);return c},ge=Object.prototype;var je=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ge)};var me=function(t,e){return function(r){return t(e(r))}},we=me(Object.keys,Object),_e=Object.prototype.hasOwnProperty;var Oe=function(t){if(!je(t))return we(t);var e=[];for(var r in Object(t))_e.call(t,r)&&"constructor"!=r&&e.push(r);return e};var ke=function(t){return null!=t&&se(t.length)&&!W(t)};var Ee=function(t){return ke(t)?be(t):Oe(t)};var xe=function(t){return $t(t,Ee,Jt)},Ae=Object.prototype.hasOwnProperty;var Pe=function(t,e,r,n,o,i){var a=1&r,u=xe(t),c=u.length;if(c!=xe(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:Ae.call(e,l)))return!1}var f=i.get(t),v=i.get(e);if(f&&v)return f==e&&v==t;var d=!0;i.set(t,e),i.set(e,t);for(var p=a;++s<c;){var h=t[l=u[s]],y=e[l];if(n)var b=a?n(y,h,l,e,t,i):n(h,y,l,t,e,i);if(!(void 0===b?h===y||o(h,y,r,n,i):b)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var g=t.constructor,j=e.constructor;g==j||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof j&&j instanceof j||(d=!1)}return i.delete(t),i.delete(e),d},Te=ut(K,"DataView"),Se=ut(K,"Promise"),Be=ut(K,"Set"),ze=ut(K,"WeakMap"),De="[object Map]",Ne="[object Promise]",Ke="[object Set]",Ce="[object WeakMap]",Me="[object DataView]",Fe=X(Te),Ie=X(ct),Re=X(Se),Le=X(Be),He=X(ze),Ue=$;(Te&&Ue(new Te(new ArrayBuffer(1)))!=Me||ct&&Ue(new ct)!=De||Se&&Ue(Se.resolve())!=Ne||Be&&Ue(new Be)!=Ke||ze&&Ue(new ze)!=Ce)&&(Ue=function(t){var e=$(t),r="[object Object]"==e?t.constructor:void 0,n=r?X(r):"";if(n)switch(n){case Fe:return Me;case Ie:return De;case Re:return Ne;case Le:return Ke;case He:return Ce}return e});var Ve=Ue,$e="[object Arguments]",qe="[object Array]",We="[object Object]",Ge=Object.prototype.hasOwnProperty;var Ye=function(t,e,r,n,o,i){var a=u(t),c=u(e),s=a?qe:Ve(t),l=c?qe:Ve(e),f=(s=s==$e?We:s)==We,v=(l=l==$e?We:l)==We,d=s==l;if(d&&ae(t)){if(!ae(e))return!1;a=!0,f=!1}if(d&&!f)return i||(i=new St),a||he(t)?Mt(t,e,r,n,o,i):Ut(t,e,s,r,n,o,i);if(!(1&r)){var p=f&&Ge.call(t,"__wrapped__"),h=v&&Ge.call(e,"__wrapped__");if(p||h){var y=p?t.value():t,b=h?e.value():e;return i||(i=new St),o(y,b,r,n,i)}}return!!d&&(i||(i=new St),Pe(t,e,r,n,o,i))};var Je=function t(e,r,n,o,i){return e===r||(null==e||null==r||!Xt(e)&&!Xt(r)?e!==e&&r!==r:Ye(e,r,n,o,t,i))};var Qe=function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=r[o])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new St;if(n)var v=n(s,l,c,t,e,f);if(!(void 0===v?Je(l,s,3,n,f):v))return!1}}return!0};var Xe=function(t){return t===t&&!q(t)};var Ze=function(t){for(var e=Ee(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,Xe(o)]}return e};var tr=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}};var er=function(t){var e=Ze(t);return 1==e.length&&e[0][2]?tr(e[0][0],e[0][1]):function(r){return r===t||Qe(r,t,e)}};var rr=function(t){return"symbol"==typeof t||Xt(t)&&"[object Symbol]"==$(t)},nr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,or=/^\w*$/;var ir=function(t,e){if(u(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!rr(t))||(or.test(t)||!nr.test(t)||null!=e&&t in Object(e))};function ar(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(ar.Cache||At),r}ar.Cache=At;var ur=ar;var cr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sr=/\\(\\)?/g,lr=function(t){var e=ur(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(cr,(function(t,r,n,o){e.push(n?o.replace(sr,"$1"):r||t)})),e})),fr=lr,vr=C?C.prototype:void 0,dr=vr?vr.toString:void 0;var pr=function t(e){if("string"==typeof e)return e;if(u(e))return y(e,t)+"";if(rr(e))return dr?dr.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r};var hr=function(t){return null==t?"":pr(t)};var yr=function(t,e){return u(t)?t:ir(t,e)?[t]:fr(hr(t))};var br=function(t){if("string"==typeof t||rr(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var gr=function(t,e){for(var r=0,n=(e=yr(e,t)).length;null!=t&&r<n;)t=t[br(e[r++])];return r&&r==n?t:void 0};var jr=function(t,e,r){var n=null==t?void 0:gr(t,e);return void 0===n?r:n};var mr=function(t,e){return null!=t&&e in Object(t)};var wr=function(t,e,r){for(var n=-1,o=(e=yr(e,t)).length,i=!1;++n<o;){var a=br(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&se(o)&&ce(a,o)&&(u(t)||oe(t))};var _r=function(t,e){return null!=t&&wr(t,e,mr)};var Or=function(t,e){return ir(t)&&Xe(e)?tr(br(t),e):function(r){var n=jr(r,t);return void 0===n&&n===e?_r(r,t):Je(e,n,3)}};var kr=function(t){return t};var Er=function(t){return function(e){return null==e?void 0:e[t]}};var xr=function(t){return function(e){return gr(e,t)}};var Ar=function(t){return ir(t)?Er(br(t)):xr(t)};var Pr=function(t){return"function"==typeof t?t:null==t?kr:"object"==typeof t?u(t)?Or(t[0],t[1]):er(t):Ar(t)};var Tr=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===r(i[c],c,i))break}return e}}();var Sr=function(t,e){return function(r,n){if(null==r)return r;if(!ke(r))return t(r,n);for(var o=r.length,i=e?o:-1,a=Object(r);(e?i--:++i<o)&&!1!==n(a[i],i,a););return r}}((function(t,e){return t&&Tr(t,e,Ee)}));var Br=function(t,e){var r=-1,n=ke(t)?Array(t.length):[];return Sr(t,(function(t,o,i){n[++r]=e(t,o,i)})),n};var zr=function(t,e){return(u(t)?y:Br)(t,Pr(e))};const Dr=(t,{at:e,...r}={})=>{if(e||(e=t.selection),!e)return!1;const[o,i]=n.Range.edges(e),a=d(t,{at:o,...r}),u=d(t,{at:i,...r});return a&&u&&!n.Path.equals(a[1],u[1])},Nr=(t,e,r)=>{if(!r||!r.match&&!r.matchString)return n.Editor.before(t,e,r);const o=!r.unit||"offset"===r.unit;let i;return(r.matchString?c(r.matchString):[""]).some((a=>{let u=e,c=n.Editor.point(t,e,{edge:"end"});const s=a.length+1,l=Array(s);let f=0;for(;;){var v;const p=n.Editor.before(t,u,r);if(!p)return;if(Dr(t,{at:{anchor:p,focus:c}}))return;const h=n.Editor.string(t,{anchor:p,focus:c});let y=h;var d;if(o&&s&&(l.unshift({point:p,text:h}),l.pop(),y=zr(l.slice(0,-1),"text").join("")),a===y||null!==(v=r.match)&&void 0!==v&&v.call(r,{beforeString:y,beforePoint:p,at:e}))return r.afterMatch?s&&o?(i=null===(d=l[l.length-1])||void 0===d?void 0:d.point,!!i):(i=c,!0):(i=p,!0);if(c=p,u=p,f+=1,!r.skipInvalid&&(!a||f>a.length))return}})),i},Kr=(t,{filter:e,allow:r,exclude:n}={})=>{if(!t)return!1;if(e&&!e(t))return!1;if(r){const e=c(r);if(e.length&&!e.includes(t[0].type))return!1}if(n){const e=c(n);if(e.length&&e.includes(t[0].type))return!1}return!0},Cr=(t,e,r)=>{const o=Nr(t,e,r);if(!o)return;return{anchor:o,focus:n.Editor.point(t,e,{edge:"end"})}},Mr=(t,e={})=>{var r;const o=null===(r=d(t,e))||void 0===r?void 0:r[1];if(!o)return;const i=n.Editor.start(t,o),a=((t,{at:e=t.selection,focus:r}={})=>{let o;return n.Range.isRange(e)&&(o=r?e.focus:e.anchor),n.Point.isPoint(e)&&(o=e),n.Path.isPath(e)&&(o={path:e,offset:0}),o})(t,e);return a?{anchor:i,focus:a}:void 0},Fr=(t,e)=>{var r;return null!==(r=e&&n.Editor.string(t,e))&&void 0!==r?r:""},Ir=(n.Text.isText,t=>!!t&&n.Range.isCollapsed(t));const Rr=(t,e)=>{var r;return null!==(r=(t=>null!==t&&void 0!==t&&t.pluginsByKey?t.pluginsByKey:{})(t)[e])&&void 0!==r?r:{key:e}},Lr=(t,e)=>{var r,n;return null!==(r=null!==(n=Rr(t,e).type)&&void 0!==n?n:e)&&void 0!==r?r:""},Hr=(t,e)=>!!v(t,e);var Ur=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},Vr=Math.max;var $r=function(t,e,r){return e=Vr(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=Vr(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=n[o];return u[e]=r(a),Ur(t,this,u)}};var qr=function(t){return function(){return t}},Wr=function(){try{var t=ut(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),Gr=Wr?function(t,e){return Wr(t,"toString",{configurable:!0,enumerable:!1,value:qr(e),writable:!0})}:kr,Yr=Date.now;var Jr=function(t){var e=0,r=0;return function(){var n=Yr(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Qr=Jr(Gr);var Xr=function(t,e){return Qr($r(t,e,kr),t+"")};var Zr=function(t,e,r){if(!q(r))return!1;var n=typeof e;return!!("number"==n?ke(r)&&ce(e,r.length):"string"==n&&e in r)&&g(r[e],t)};var tn=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},en=Object.prototype.hasOwnProperty;var rn=function(t){if(!q(t))return tn(t);var e=je(t),r=[];for(var n in t)("constructor"!=n||!e&&en.call(t,n))&&r.push(n);return r};var nn=function(t){return ke(t)?be(t,!0):rn(t)},on=Object.prototype,an=on.hasOwnProperty;Xr((function(t,e){t=Object(t);var r=-1,n=e.length,o=n>2?e[2]:void 0;for(o&&Zr(e[0],e[1],o)&&(n=1);++r<n;)for(var i=e[r],a=nn(i),u=-1,c=a.length;++u<c;){var s=a[u],l=t[s];(void 0===l||g(l,on[s])&&!an.call(t,s))&&(t[s]=i[s])}return t}));const un=({node:t,source:e,apply:r,query:n})=>{Kr([t,[]],n)&&r(t,e instanceof Function?e():e),h(t)&&t.children.forEach((t=>{un({node:t,source:e,apply:r,query:n})}))},cn=(t,{key:e,at:r,shouldChange:o=!0,...i})=>{const a=null!==r&&void 0!==r?r:t.selection;if(e=c(e),a)if(n.Range.isRange(a)&&n.Range.isExpanded(a))n.Transforms.unsetNodes(t,e,{at:a,match:n.Text.isText,split:!0,...i});else if(t.selection){const r={...n.Editor.marks(t)||{}};e.forEach((t=>{delete r[t]})),t.marks=r,o&&t.onChange()}},sn=(t,e,r)=>n.Transforms.setNodes(t,e,r),ln="p",fn=(t,e,r)=>(t=((t,e,r)=>{const n=((t,e)=>t.some(((t,r,n)=>{const o=n[r-1];return 0!==r&&e(t)!==e(o)})))(t,e),{fragment:o}=t.reduce(((t,o)=>{if(n&&e(o)){let e=t.precedingBlock;e||(e=r(),t.precedingBlock=e,t.fragment.push(e)),e.children.push(o)}else t.fragment.push(o),t.precedingBlock=null;return t}),{fragment:[],precedingBlock:null});return o})(t=(t=>t.length?t:[{text:""}])(t),e,r),t=t.map((t=>p(t)?{...t,children:fn(t.children,e,r)}:t))),vn=(t,{descendants:e})=>{const r=(t=>e=>n.Text.isText(e)||t.isInline(e))(t),o=Lr(t,ln),i=(a=o,()=>({type:a,children:[]}));var a;return fn(e,r,i)};var dn,pn=z((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)i["f"+a]=111+a;function u(t,e,r){e&&!("byKey"in e)&&(r=e,e=null),Array.isArray(t)||(t=[t]);var n=t.map((function(t){return c(t,e)})),o=function(t){return n.some((function(e){return s(e,t)}))};return null==r?o:o(r)}function c(t,e){var r=e&&e.byKey,o={},i=(t=t.replace("++","+add")).split("+"),a=i.length;for(var u in n)o[n[u]]=!1;var c=!0,s=!1,v=void 0;try{for(var d,p=i[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value,y=h.endsWith("?")&&h.length>1;y&&(h=h.slice(0,-1));var b=f(h),g=n[b];1!==a&&g||(r?o.key=b:o.which=l(h)),g&&(o[g]=!y||null)}}catch(j){s=!0,v=j}finally{try{!c&&p.return&&p.return()}finally{if(s)throw v}}return o}function s(t,e){for(var r in t){var n=t[r],o=void 0;if(null!=n&&((null!=(o="key"===r&&null!=e.key?e.key.toLowerCase():"which"===r?91===n&&93===e.which?91:e.which:e[r])||!1!==n)&&o!==n))return!1}return!0}function l(t){return t=f(t),i[t]||t.toUpperCase().charCodeAt(0)}function f(t){return t=t.toLowerCase(),t=o[t]||t}e.default=u,e.isHotkey=u,e.isCodeHotkey=function(t,e){return u(t,e)},e.isKeyHotkey=function(t,e){return u(t,{byKey:!0},e)},e.parseHotkey=c,e.compareHotkey=s,e.toKeyCode=l,e.toKeyName=f}));(dn=pn)&&dn.__esModule&&Object.prototype.hasOwnProperty.call(dn,"default")&&dn.default;pn.isHotkey,pn.isCodeHotkey,pn.isKeyHotkey,pn.parseHotkey,pn.compareHotkey,pn.toKeyCode,pn.toKeyName;var hn=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t};var yn=function(t,e,r){"__proto__"==e&&Wr?Wr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},bn=Object.prototype.hasOwnProperty;var gn=function(t,e,r){var n=t[e];bn.call(t,e)&&g(n,r)&&(void 0!==r||e in t)||yn(t,e,r)};var jn=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=n?n(r[u],t[u],u,r,t):void 0;void 0===c&&(c=t[u]),o?yn(r,u,c):gn(r,u,c)}return r};var mn=function(t,e){return t&&jn(e,Ee(e),t)};var wn=function(t,e){return t&&jn(e,nn(e),t)},_n=z((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?K.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}}));var On=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var kn=function(t,e){return jn(t,Jt(t),e)},En=me(Object.getPrototypeOf,Object),xn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Vt(e,Jt(t)),t=En(t);return e}:Wt;var An=function(t,e){return jn(t,xn(t),e)};var Pn=function(t){return $t(t,nn,xn)},Tn=Object.prototype.hasOwnProperty;var Sn=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Tn.call(t,"index")&&(r.index=t.index,r.input=t.input),r};var Bn=function(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e};var zn=function(t,e){var r=e?Bn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},Dn=/\w*$/;var Nn=function(t){var e=new t.constructor(t.source,Dn.exec(t));return e.lastIndex=t.lastIndex,e},Kn=C?C.prototype:void 0,Cn=Kn?Kn.valueOf:void 0;var Mn=function(t){return Cn?Object(Cn.call(t)):{}};var Fn=function(t,e){var r=e?Bn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var In=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Bn(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return zn(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Fn(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Nn(t);case"[object Symbol]":return Mn(t)}},Rn=Object.create,Ln=function(){function t(){}return function(e){if(!q(e))return{};if(Rn)return Rn(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var Hn=function(t){return"function"!=typeof t.constructor||je(t)?{}:Ln(En(t))};var Un=function(t){return Xt(t)&&"[object Map]"==Ve(t)},Vn=de&&de.isMap,$n=Vn?ve(Vn):Un;var qn=function(t){return Xt(t)&&"[object Set]"==Ve(t)},Wn=de&&de.isSet,Gn=Wn?ve(Wn):qn,Yn="[object Arguments]",Jn="[object Function]",Qn="[object Object]",Xn={};Xn[Yn]=Xn["[object Array]"]=Xn["[object ArrayBuffer]"]=Xn["[object DataView]"]=Xn["[object Boolean]"]=Xn["[object Date]"]=Xn["[object Float32Array]"]=Xn["[object Float64Array]"]=Xn["[object Int8Array]"]=Xn["[object Int16Array]"]=Xn["[object Int32Array]"]=Xn["[object Map]"]=Xn["[object Number]"]=Xn[Qn]=Xn["[object RegExp]"]=Xn["[object Set]"]=Xn["[object String]"]=Xn["[object Symbol]"]=Xn["[object Uint8Array]"]=Xn["[object Uint8ClampedArray]"]=Xn["[object Uint16Array]"]=Xn["[object Uint32Array]"]=!0,Xn["[object Error]"]=Xn[Jn]=Xn["[object WeakMap]"]=!1;var Zn=function t(e,r,n,o,i,a){var c,s=1&r,l=2&r,f=4&r;if(n&&(c=i?n(e,o,i,a):n(e)),void 0!==c)return c;if(!q(e))return e;var v=u(e);if(v){if(c=Sn(e),!s)return On(e,c)}else{var d=Ve(e),p=d==Jn||"[object GeneratorFunction]"==d;if(ae(e))return _n(e,s);if(d==Qn||d==Yn||p&&!i){if(c=l||p?{}:Hn(e),!s)return l?An(e,wn(c,e)):kn(e,mn(c,e))}else{if(!Xn[d])return i?e:{};c=In(e,d,s)}}a||(a=new St);var h=a.get(e);if(h)return h;a.set(e,c),Gn(e)?e.forEach((function(o){c.add(t(o,r,n,o,e,a))})):$n(e)&&e.forEach((function(o,i){c.set(i,t(o,r,n,i,e,a))}));var y=v?void 0:(f?l?Pn:xe:l?nn:Ee)(e);return hn(y||e,(function(o,i){y&&(o=e[i=o]),gn(c,i,t(o,r,n,i,e,a))})),c};var to=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var eo=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i};var ro=function(t,e){return e.length<2?t:gr(t,eo(e,0,-1))};var no=function(t,e){return e=yr(e,t),null==(t=ro(t,e))||delete t[br(to(e))]},oo=Function.prototype,io=Object.prototype,ao=oo.toString,uo=io.hasOwnProperty,co=ao.call(Object);var so=function(t){if(!Xt(t)||"[object Object]"!=$(t))return!1;var e=En(t);if(null===e)return!0;var r=uo.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&ao.call(r)==co};var lo=function(t){return so(t)?void 0:t},fo=C?C.isConcatSpreadable:void 0;var vo=function(t){return u(t)||oe(t)||!!(fo&&t&&t[fo])};var po=function t(e,r,n,o,i){var a=-1,u=e.length;for(n||(n=vo),i||(i=[]);++a<u;){var c=e[a];r>0&&n(c)?r>1?t(c,r-1,n,o,i):Vt(i,c):o||(i[i.length]=c)}return i};var ho=function(t){return(null==t?0:t.length)?po(t,1):[]};yo=function(t,e){var r={};if(null==t)return r;var n=!1;e=y(e,(function(e){return e=yr(e,t),n||(n=e.length>1),e})),jn(t,Pn(t),r),n&&(r=Zn(r,7,lo));for(var o=e.length;o--;)no(r,e[o]);return r},Qr($r(yo,void 0,ho),yo+"");var yo;const bo=(0,i.MT)("event-editor")({blur:null,focus:null,last:null}),go=bo.set,jo=bo.get;bo.use;var mo=function(t,e,r){(void 0!==r&&!g(t[e],r)||void 0===r&&!(e in t))&&yn(t,e,r)};var wo=function(t){return Xt(t)&&ke(t)};var _o=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]};var Oo=function(t){return jn(t,nn(t))};var ko=function(t,e,r,n,o,i,a){var c=_o(t,r),s=_o(e,r),l=a.get(s);if(l)mo(t,r,l);else{var f=i?i(c,s,r+"",t,e,a):void 0,v=void 0===f;if(v){var d=u(s),p=!d&&ae(s),h=!d&&!p&&he(s);f=s,d||p||h?u(c)?f=c:wo(c)?f=On(c):p?(v=!1,f=_n(s,!0)):h?(v=!1,f=Fn(s,!0)):f=[]:so(s)||oe(s)?(f=c,oe(c)?f=Oo(c):q(c)&&!W(c)||(f=Hn(s))):v=!1}v&&(a.set(s,f),o(f,s,n,i,a),a.delete(s)),mo(t,r,f)}};var Eo=function t(e,r,n,o,i){e!==r&&Tr(r,(function(a,u){if(i||(i=new St),q(a))ko(e,r,u,n,t,o,i);else{var c=o?o(_o(e,u),a,u+"",e,r,i):void 0;void 0===c&&(c=a),mo(e,u,c)}}),nn)};var xo=function t(e,r,n,o,i,a){return q(e)&&q(r)&&(a.set(r,e),Eo(e,r,void 0,t,a),a.delete(r)),e};var Ao=function(t){return Xr((function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Zr(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,i)}return e}))},Po=Ao((function(t,e,r,n){Eo(t,e,r,n)})),To=Xr((function(t){return t.push(void 0,xo),Ur(Po,void 0,t)}));const So=(t,e={},r)=>{var n;if(e[t.key]){const{plugins:n,then:o,...i}=e[t.key];t=To(i,t),r||null===n||void 0===n||n.forEach((e=>{t.plugins||(t.plugins=[]);t.plugins.find((t=>t.key===e.key))||t.plugins.push(e)}))}t.plugins&&(t.plugins=t.plugins.map((t=>So(t,e,!0))));const{then:o}=t;return o?t.then=(r,n)=>{const i={key:t.key,...o(r,n)};return To(So(i,e),i)}:null!==(n=e[t.key])&&void 0!==n&&n.then&&(t.then=e[t.key].then),t},Bo=t=>(e,r={})=>(r[t.key]=e,So({...t},r)),zo="deserializeAst",Do=Bo({key:zo,editor:{insertData:{format:"application/x-slate-fragment",getFragment:({data:t})=>{const e=decodeURIComponent(window.atob(t));return JSON.parse(e)}}}}),No="event-editor",Ko=Bo({key:No,handlers:{onFocus:t=>()=>{var e;null===(e=go.focus)||void 0===e||e.call(go,t.id)},onBlur:t=>()=>{var e;null===(e=go.blur)||void 0===e||e.call(go,t.id)}}}),Co=Bo({key:"history",withOverrides:a.VC}),Mo="inline-void",Fo=Bo({key:Mo,withOverrides:t=>{const{isInline:e}=t,{isVoid:r}=t,n=[],o=[];return t.plugins.forEach((t=>{t.isInline&&n.push(t.type),t.isVoid&&o.push(t.type)})),t.isInline=t=>!!n.includes(t.type)||e(t),t.isVoid=t=>!!o.includes(t.type)||r(t),t}}),Io=(t,e)=>{const r=[];return[...t.plugins].reverse().forEach((t=>{var n;const o=null===(n=t.inject.pluginsByKey)||void 0===n?void 0:n[e.key];o&&r.push(o)})),[e,...r]},Ro="insertData",Lo=Bo({key:Ro,withOverrides:t=>{const{insertData:e}=t;return t.insertData=r=>{const o=[...t.plugins].reverse().some((e=>{var o;const i=e.editor.insertData;if(!i)return!1;const a=Io(t,e),{format:u,getFragment:c}=i;if(!u)return!1;let s=r.getData(u);if(!s)return;if(!((t,{data:e,dataTransfer:r})=>t.every((t=>{var n,o;const i=null===(n=t.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.query;return!i||i({data:e,dataTransfer:r})})))(a,{data:s,dataTransfer:r}))return!1;s=((t,{data:e,dataTransfer:r})=>(t.forEach((t=>{var n,o;const i=null===(n=t.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.transformData;i&&(e=i(e,{dataTransfer:r}))})),e))(a,{data:s,dataTransfer:r});let l=null===c||void 0===c?void 0:c({data:s,dataTransfer:r});return!(null===(o=l)||void 0===o||!o.length)&&(l=((t,{fragment:e,...r})=>(t.forEach((t=>{var n,o;const i=null===(n=t.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.transformFragment;i&&(e=i(e,r))})),e))(a,{fragment:l,data:s,dataTransfer:r}),!!l.length&&(((t,e,{fragment:r,...o})=>{n.Editor.withoutNormalizing(t,(()=>{e.some((t=>{var e,n,i;return!0===(null===(e=t.editor)||void 0===e||null===(n=e.insertData)||void 0===n||null===(i=n.preInsert)||void 0===i?void 0:i.call(n,r,o))})),t.insertFragment(r)}))})(t,a,{fragment:l,data:s,dataTransfer:r}),!0))}));o||e(r)},t}}),Ho=Bo({key:"react",withOverrides:o.withReact});function Uo(t){return"[object Object]"===Object.prototype.toString.call(t)}function Vo(t){var e,r;return!1!==Uo(t)&&(void 0===(e=t.constructor)||!1!==Uo(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}function $o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var qo=new WeakMap,Wo=new WeakMap;class Go{}class Yo extends Go{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:e,path:r}=t;this.offset=e,this.path=r}}class Jo extends Go{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:e,path:r}=t;this.offset=e,this.path=r}}var Qo=t=>Wo.get(t);function Xo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xo(Object(r),!0).forEach((function(e){$o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ti=new WeakSet,ei=t=>{var e=[],r=t=>{if(null!=t){var o=e[e.length-1];if("string"===typeof t){var i={text:t};ti.add(i),t=i}if(n.Text.isText(t)){var a=t;n.Text.isText(o)&&ti.has(o)&&ti.has(a)&&n.Text.equals(o,a,{loose:!0})?o.text+=a.text:e.push(a)}else if(n.Element.isElement(t))e.push(t);else{if(!(t instanceof Go))throw new Error("Unexpected hyperscript child object: ".concat(t));var u=e[e.length-1];n.Text.isText(u)||(r(""),u=e[e.length-1]),t instanceof Yo?((t,e)=>{var r=t.text.length;qo.set(t,[r,e])})(u,t):t instanceof Jo&&((t,e)=>{var r=t.text.length;Wo.set(t,[r,e])})(u,t)}}};for(var o of t.flat(1/0))r(o);return e};function ri(t,e,r){return Zo(Zo({},e),{},{children:ei(r)})}function ni(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ni(Object(r),!0).forEach((function(e){$o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ni(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ii,ai={anchor:function(t,e,r){return new Yo(e)},cursor:function(t,e,r){return[new Yo(e),new Jo(e)]},editor:(ii=n.createEditor,(t,e,r)=>{var o,i=[];for(var a of r)n.Range.isRange(a)?o=a:i.push(a);var u,c=ei(i),s={},l=ii();for(var[f,v]of(Object.assign(l,e),l.children=c,n.Node.texts(l))){var d=(u=f,qo.get(u)),p=Qo(f);if(null!=d){var[h]=d;s.anchor={path:v,offset:h}}if(null!=p){var[y]=p;s.focus={path:v,offset:y}}}if(s.anchor&&!s.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!s.anchor&&s.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=o?l.selection=o:n.Range.isRange(s)&&(l.selection=s),l}),element:ri,focus:function(t,e,r){return new Jo(e)},fragment:function(t,e,r){return ei(r)},selection:function(t,e,r){var n=r.find((t=>t instanceof Yo)),o=r.find((t=>t instanceof Jo));if(!n||null==n.offset||null==n.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return Zo({anchor:{offset:n.offset,path:n.path},focus:{offset:o.offset,path:o.path}},e)},text:function(t,e,r){var o=ei(r);if(o.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[i]=o;if(null==i&&(i={text:""}),!n.Text.isText(i))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return ti.delete(i),Object.assign(i,e),i}},ui=t=>function(e,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var a=t[e];if(!a)throw new Error("No hyperscript creator found for tag: <".concat(e,">"));null==r&&(r={}),Vo(r)||(o=[r].concat(o),r={});var u=a(e,r,o=o.filter((t=>Boolean(t))).flat());return u},ci=t=>{var e={},r=function(r){var n=t[r];if("object"!==typeof n)throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(n));e[r]=(t,e,r)=>ri(0,oi(oi({},n),e),r)};for(var n in t)r(n);return e},si=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:e={}}=t,r=ci(e),n=oi(oi(oi({},ai),r),t.creators),o=ui(n);return o}();const li=(t,e)=>Array.from(e.childNodes).map(bi(t)).flat(),fi=(t,e,{element:r,deserializeLeaf:n})=>{var o;const{deserializeHtml:i,isElement:a,isLeaf:u,type:s}=e;if(!i)return;const{attributeNames:l,query:f,isLeaf:v,isElement:d,rules:p}=i;let{getNode:h}=i;const y=d||a,b=v||u;if(!n&&!y)return;if(n&&!b)return;if(p){if(!p.some((({validNodeName:t="*",validStyle:n,validClassName:o,validAttribute:i})=>{if(t){const e=c(t);if(e.length&&!e.includes(r.nodeName)&&"*"!==t)return!1}if(o&&!r.className.includes(o))return!1;if(n)for(const[u,s]of Object.entries(n)){var a;if(!c(s).includes(r.style[u])&&"*"!==s)return;if("*"===s&&!r.style[u])return;const t=null===(a=e.inject.props)||void 0===a?void 0:a.defaultNodeValue;if(t&&t===r.style[u])return!1}if(i)if("string"===typeof i){if(!r.getAttributeNames().includes(i))return!1}else for(const[e,u]of Object.entries(i)){const t=c(u),n=r.getAttribute(e);if(!n||!t.includes(n))return!1}return!0})))return}if(f&&!f(r))return;if(!h)if(y)h=()=>({type:s});else{if(!b)return;h=()=>({[s]:!0})}let g=null!==(o=h(r,{}))&&void 0!==o?o:{};if(!Object.keys(g).length)return;if(Io(t,e).forEach((t=>{var e,n;const o=null===(e=t.deserializeHtml)||void 0===e||null===(n=e.getNode)||void 0===n?void 0:n.call(e,r,g);o&&(g={...g,...o})})),l){const t={},e=r.getAttributeNames();for(const n of e)l.includes(n)&&(t[n]=r.getAttribute(n));Object.keys(t).length&&(g.attributes=t)}return{...i,node:g}},vi=(t,e)=>{const r=((t,e)=>{let r;return[...t.plugins].reverse().some((n=>(r=fi(t,n,{element:e}),!!r))),r})(t,e);if(r){var n;const{node:o,withoutChildren:i}=r;let a=null!==(n=o.children)&&void 0!==n?n:li(t,e);return a.length&&!i||(a=[{text:""}]),si("element",o,a)}};var di=Ao((function(t,e,r){Eo(t,e,r)}));const pi=(t,e)=>{const r=((t,e)=>{let r={};return[...t.plugins].reverse().forEach((n=>{const o=fi(t,n,{element:e,deserializeLeaf:!0});o&&(r={...r,...o.node})})),r})(t,e);return li(t,e).reduce(((t,e)=>{if(!e)return t;if(p(e))Object.keys(r).length&&(o={node:e,source:r,query:{filter:([t])=>n.Text.isText(t)}},un({...o,apply:di})),t.push(e);else{const n={...r};e.text&&Object.keys(n).forEach((t=>{n[t]&&e[t]&&(n[t]=e[t])})),t.push(si("text",n,e))}var o;return t}),[])},hi=t=>t.nodeType===Node.TEXT_NODE,yi=t=>t.nodeType===Node.ELEMENT_NODE,bi=t=>e=>{const r=(t=>{if(hi(t))return"\n"===t.nodeValue?null:t.textContent})(e);if(r)return r;if(!yi(e))return null;const n=(t=>{if("BR"===t.nodeName)return"\n"})(e);if(n)return n;const o=((t,e)=>{if("BODY"===e.nodeName)return si("fragment",{},li(t,e))})(t,e);if(o)return o;const i=vi(t,e);return i||pi(t,e)},gi=(t,{element:e,stripWhitespace:r=!0})=>{"string"===typeof e&&(e=((t,e=!0)=>{const r=document.createElement("body");return r.innerHTML=t,e&&(r.innerHTML=r.innerHTML.replace(/(\r\n|\n|\r|\t)/gm,"")),r})(e,r));const n=((t,e)=>bi(t)(e))(t,e);return vn(t,{descendants:n})},ji=t=>(new DOMParser).parseFromString(t,"text/html"),mi="deserializeHtml",wi=Bo({key:mi,then:t=>({editor:{insertData:{format:"text/html",getFragment:({data:e})=>{const r=ji(e);return gi(t,{element:r.body})}}}})});var _i=function(t,e,r,n){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(n,a,r(a),t)}return n};var Oi=function(t,e,r,n){return Sr(t,(function(t,o,i){e(n,t,r(t),i)})),n};var ki=function(t,e){return function(r,n){var o=u(r)?_i:Oi,i=e?e():{};return o(r,t,Pr(n),i)}}((function(t,e,r){yn(t,r,e)}));var Ei=function(t,e){return y(e,(function(e){return t[e]}))};var xi=function(t){return null==t?[]:Ei(t,Ee(t))};const Ai=(t,e)=>{const r={...e},{then:n}=r;if(n){delete r.then;const{plugins:e}=r,o=Ai(t,To(n(t,r),r));if(e&&o.plugins){const t=di(ki(e,"key"),ki(o.plugins,"key"));o.plugins=xi(t)}return o}return r},Pi=(t,e)=>{e&&e.forEach((e=>{let r=(t=>(void 0===t.type&&(t.type=t.key),t.options||(t.options={}),t.inject||(t.inject={}),t.editor||(t.editor={}),t))(e);if(r=Ai(t,r),t.pluginsByKey[r.key]){const e=t.plugins.indexOf(t.pluginsByKey[r.key]),n=To(r,t.pluginsByKey[r.key]);e>=0&&(t.plugins[e]=n),t.pluginsByKey[r.key]=n}else t.plugins.push(r),t.pluginsByKey[r.key]=r;Pi(t,r.plugins)}))},Ti=(t,{disableCorePlugins:e,plugins:r=[]})=>{let n=[];if(!0!==e){const r=e;var o,i,a,u,c,s,l,f,v,d,p,h,y,b;if("object"!==typeof r||!r.react)n.push(null!==(o=null===(i=t.pluginsByKey)||void 0===i?void 0:i.react)&&void 0!==o?o:Ho());if("object"!==typeof r||!r.history)n.push(null!==(a=null===(u=t.pluginsByKey)||void 0===u?void 0:u.history)&&void 0!==a?a:Co());if("object"!==typeof r||!r.eventEditor)n.push(null!==(c=null===(s=t.pluginsByKey)||void 0===s?void 0:s["event-editor"])&&void 0!==c?c:Ko());if("object"!==typeof r||!r.inlineVoid)n.push(null!==(l=null===(f=t.pluginsByKey)||void 0===f?void 0:f["inline-void"])&&void 0!==l?l:Fo());if("object"!==typeof r||!r.insertData)n.push(null!==(v=null===(d=t.pluginsByKey)||void 0===d?void 0:d.insertData)&&void 0!==v?v:Lo());if("object"!==typeof r||!r.deserializeHtml)n.push(null!==(p=null===(h=t.pluginsByKey)||void 0===h?void 0:h.deserializeHtml)&&void 0!==p?p:wi());if("object"!==typeof r||!r.deserializeAst)n.push(null!==(y=null===(b=t.pluginsByKey)||void 0===b?void 0:b.deserializeAst)&&void 0!==y?y:Do())}n=[...n,...r],t.plugins=[],t.pluginsByKey={},Pi(t,n),t.plugins.forEach((e=>{if(e.overrideByKey){const r=t.plugins.map((t=>So(t,e.overrideByKey)));t.plugins=[],t.pluginsByKey={},Pi(t,r)}})),Ki(t.id).incrementKey("keyPlugins")},Si=(t,{id:e="main",plugins:r=[],disableCorePlugins:n}={})=>{let o=t;return o.id=e,o.key||(o.key=Math.random()),Ti(o,{plugins:r,disableCorePlugins:n}),o.plugins.forEach((t=>{t.withOverrides&&(o=t.withOverrides(o,t))})),o},Bi=(t={})=>(0,i.MT)(`plate-${t.id}`)({id:"main",value:[{type:ln,children:[{text:""}]}],editor:null,keyEditor:1,keyPlugins:1,keySelection:1,decorate:null,enabled:!0,editableProps:null,onChange:null,plugins:[],renderElement:null,renderLeaf:null,...t}).extendActions(((e,r)=>({resetEditor:()=>{var o;e.editor(Si((0,n.createEditor)(),{id:t.id,plugins:null===(o=r.editor())||void 0===o?void 0:o.plugins}))},incrementKey:t=>{var n;const o=null!==(n=r[t]())&&void 0!==n?n:1;e[t](o+1)}}))),zi=Bi({id:"loading"}),Di=t=>{t=(t=>{var e,r,n;if(t)return t;const o=null===(e=jo.focus)||void 0===e?void 0:e.call(jo);if(o)return o;const i=null===(r=jo.blur)||void 0===r?void 0:r.call(jo);if(i)return i;const a=null===(n=jo.last)||void 0===n?void 0:n.call(jo);return null!==a&&void 0!==a?a:"main"})(t);return Ni.get.get(t)||zi},Ni=(0,i.MT)("plate")({}).extendActions((t=>({set:e=>{t.state((t=>{e&&!t[e]&&(t[e]=Bi({id:e}),go.last(e))}))},unset:e=>{t.state((t=>{delete t[e]}))}}))).extendSelectors((t=>({get:e=>t[e],has:e=>!!t[e]}))),Ki=(Ni.set,Ni.get,Ni.use,t=>Di(t).set)}}]);