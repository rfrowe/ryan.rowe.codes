"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{99747:function(e,t,n){n.d(t,{mnA:function(){return Vr},qnz:function(){return pa},hv7:function(){return Xa},xje:function(){return Ei},ZUk:function(){return iu},QFr:function(){return Br},nOG:function(){return Kr},ELZ:function(){return h},x4s:function(){return qr},DYv:function(){return b},joq:function(){return m},xmC:function(){return j},Ga5:function(){return w},wEy:function(){return C},DXT:function(){return P},MkB:function(){return M},v$F:function(){return g},G_R:function(){return x},s3t:function(){return vr},bbC:function(){return pr},T2j:function(){return Gn},lBo:function(){return Gr},HdH:function(){return Zn},blY:function(){return Jn},n2N:function(){return Xn},QaF:function(){return er},QkL:function(){return zr},s2K:function(){return Rr},ptC:function(){return nr},SPS:function(){return or},zbr:function(){return ir},kKo:function(){return O},ulk:function(){return ar},scZ:function(){return ur},k55:function(){return _},yw6:function(){return sr},jks:function(){return qn},s7w:function(){return fr},_YE:function(){return dr},P99:function(){return hr},CBv:function(){return Xr},EQD:function(){return v},TUE:function(){return au},Nan:function(){return $r},VKW:function(){return io},Un4:function(){return ao},VqB:function(){return Qn},P9T:function(){return Ir},fLV:function(){return Ur},MQT:function(){return nu},zwG:function(){return yr},w9d:function(){return Fr},uPr:function(){return Hr},LKm:function(){return Wr},sZ5:function(){return Qa},U7P:function(){return ru},qEX:function(){return Yr}});var r=n(67294),o=n(60406),i=n(91243),a=n(68413),u=n(27358),c=n(57645),l=n(86010);n(97762);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var f=Array.isArray;var d=function(){if(!arguments.length)return[];var e=arguments[0];return f(e)?e:[e]};const v=(e,t)=>!t||("object"===typeof t?Object.entries(t).every((([t,n])=>d(n).includes(e[t]))):t(e)),p=(e,t)=>({...t,match:n=>v(n,t.match)&&(!(null!==t&&void 0!==t&&t.block)||o.ML.isBlock(e,n))}),h=(e,t)=>{try{const{match:n,at:r=e.selection,reverse:i=!1,voids:a=!1}=t;if(!r)return;let u,c;if(o.Dr.isSpan(r))[u,c]=r;else if(o.e6.isRange(r)){const t=o.ML.path(e,r,{edge:"start"}),n=o.ML.path(e,r,{edge:"end"});u=i?n:t,c=i?t:n}let l=[e,[]];o.y$.isPath(r)&&(l=o.ML.node(e,r));const s=o.NB.descendants(l[0],{reverse:i,from:u,to:c,pass:([t])=>!a&&o.ML.isVoid(e,t)});for(const[e,t]of s)if(v(e,n))return[e,r.concat(t)]}catch(n){return}},y=(e,t={})=>{const{at:n=e.selection,voids:r,unhang:i=!0}=t;o.e6.isRange(n)&&i&&(t.at=o.ML.unhangRange(e,n,{voids:r}))},g=(e,t={})=>(y(e,t),o.ML.nodes(e,p(e,t))),b=(e,t={})=>{try{const n=g(e,{at:e.selection||[],...p(e,t)});for(const[e,t]of n)return[e,t]}catch(n){return}},m=(e,t={})=>o.ML.above(e,p(e,t)),j=(e,t={})=>m(e,{...t,block:!0}),w=e=>{const[t,n]=e;return(t.children||[]).map(((e,t)=>[e,n.concat([t])]))},C=e=>{const t=(e=>{const[t,n]=e;return t.children.length?[t.children[t.children.length-1],n.concat([t.children.length-1])]:null})(e);return t?t[1]:e[1].concat([-1])},_=(e,t)=>{const n=C(e);return o.y$.equals(n,t)},O=o.W_.isElement,E=e=>o.ML.isEditor(e)||O(e),k=(e,t)=>{if(!(t+1)||!E(e))return e;const{children:n}=e,r=n[n.length-1];return k(r,t-1)},P=(e,t)=>{const{children:n}=e,r=n[n.length-1];if(!r)return;const[,i]=o.ML.last(e,[]);return[k(r,t-1),i.slice(0,t+1)]},M=(e,t)=>{try{return o.NB.get(e,t)}catch(n){return null}},x=(e,t,n)=>{try{return o.ML.parent(e,t,n)}catch(r){}};var L=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};var S=function(){this.__data__=[],this.size=0};var A=function(e,t){return e===t||e!==e&&t!==t};var D=function(e,t){for(var n=e.length;n--;)if(A(e[n][0],t))return n;return-1},T=Array.prototype.splice;var N=function(e){var t=this.__data__,n=D(t,e);return!(n<0)&&(n==t.length-1?t.pop():T.call(t,n,1),--this.size,!0)};var B=function(e){var t=this.__data__,n=D(t,e);return n<0?void 0:t[n][1]};var K=function(e){return D(this.__data__,e)>-1};var R=function(e,t){var n=this.__data__,r=D(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}z.prototype.clear=S,z.prototype.delete=N,z.prototype.get=B,z.prototype.has=K,z.prototype.set=R;var $=z;var I=function(){this.__data__=new $,this.size=0};var U=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var F=function(e){return this.__data__.get(e)};var V=function(e){return this.__data__.has(e)},H="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function W(e,t){return e(t={exports:{}},t.exports),t.exports}var Y="object"==typeof H&&H&&H.Object===Object&&H,q="object"==typeof self&&self&&self.Object===Object&&self,G=Y||q||Function("return this")(),Q=G.Symbol,Z=Object.prototype,J=Z.hasOwnProperty,X=Z.toString,ee=Q?Q.toStringTag:void 0;var te=function(e){var t=J.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(i){}var o=X.call(e);return r&&(t?e[ee]=n:delete e[ee]),o},ne=Object.prototype.toString;var re=function(e){return ne.call(e)},oe=Q?Q.toStringTag:void 0;var ie=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":oe&&oe in Object(e)?te(e):re(e)};var ae=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var ue=function(e){if(!ae(e))return!1;var t=ie(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ce=G["__core-js_shared__"],le=function(){var e=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var se=function(e){return!!le&&le in e},fe=Function.prototype.toString;var de=function(e){if(null!=e){try{return fe.call(e)}catch(t){}try{return e+""}catch(t){}}return""},ve=/^\[object .+?Constructor\]$/,pe=Function.prototype,he=Object.prototype,ye=pe.toString,ge=he.hasOwnProperty,be=RegExp("^"+ye.call(ge).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var me=function(e){return!(!ae(e)||se(e))&&(ue(e)?be:ve).test(de(e))};var je=function(e,t){return null==e?void 0:e[t]};var we=function(e,t){var n=je(e,t);return me(n)?n:void 0},Ce=we(G,"Map"),_e=we(Object,"create");var Oe=function(){this.__data__=_e?_e(null):{},this.size=0};var Ee=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ke=Object.prototype.hasOwnProperty;var Pe=function(e){var t=this.__data__;if(_e){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ke.call(t,e)?t[e]:void 0},Me=Object.prototype.hasOwnProperty;var xe=function(e){var t=this.__data__;return _e?void 0!==t[e]:Me.call(t,e)};var Le=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_e&&void 0===t?"__lodash_hash_undefined__":t,this};function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Se.prototype.clear=Oe,Se.prototype.delete=Ee,Se.prototype.get=Pe,Se.prototype.has=xe,Se.prototype.set=Le;var Ae=Se;var De=function(){this.size=0,this.__data__={hash:new Ae,map:new(Ce||$),string:new Ae}};var Te=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ne=function(e,t){var n=e.__data__;return Te(t)?n["string"==typeof t?"string":"hash"]:n.map};var Be=function(e){var t=Ne(this,e).delete(e);return this.size-=t?1:0,t};var Ke=function(e){return Ne(this,e).get(e)};var Re=function(e){return Ne(this,e).has(e)};var ze=function(e,t){var n=Ne(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function $e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$e.prototype.clear=De,$e.prototype.delete=Be,$e.prototype.get=Ke,$e.prototype.has=Re,$e.prototype.set=ze;var Ie=$e;var Ue=function(e,t){var n=this.__data__;if(n instanceof $){var r=n.__data__;if(!Ce||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ie(r)}return n.set(e,t),this.size=n.size,this};function Fe(e){var t=this.__data__=new $(e);this.size=t.size}Fe.prototype.clear=I,Fe.prototype.delete=U,Fe.prototype.get=F,Fe.prototype.has=V,Fe.prototype.set=Ue;var Ve=Fe;var He=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var We=function(e){return this.__data__.has(e)};function Ye(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ie;++t<n;)this.add(e[t])}Ye.prototype.add=Ye.prototype.push=He,Ye.prototype.has=We;var qe=Ye;var Ge=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Qe=function(e,t){return e.has(t)};var Ze=function(e,t,n,r,o,i){var a=1&n,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=i.get(e),s=i.get(t);if(l&&s)return l==t&&s==e;var f=-1,d=!0,v=2&n?new qe:void 0;for(i.set(e,t),i.set(t,e);++f<u;){var p=e[f],h=t[f];if(r)var y=a?r(h,p,f,t,e,i):r(p,h,f,e,t,i);if(void 0!==y){if(y)continue;d=!1;break}if(v){if(!Ge(t,(function(e,t){if(!Qe(v,t)&&(p===e||o(p,e,n,r,i)))return v.push(t)}))){d=!1;break}}else if(p!==h&&!o(p,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d},Je=G.Uint8Array;var Xe=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var et=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},tt=Q?Q.prototype:void 0,nt=tt?tt.valueOf:void 0;var rt=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Je(e),new Je(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return A(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Xe;case"[object Set]":var c=1&r;if(u||(u=et),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var s=Ze(u(e),u(t),r,o,i,a);return a.delete(e),s;case"[object Symbol]":if(nt)return nt.call(e)==nt.call(t)}return!1};var ot=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var it=function(e,t,n){var r=t(e);return f(e)?r:ot(r,n(e))};var at=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var ut=function(){return[]},ct=Object.prototype.propertyIsEnumerable,lt=Object.getOwnPropertySymbols,st=lt?function(e){return null==e?[]:(e=Object(e),at(lt(e),(function(t){return ct.call(e,t)})))}:ut;var ft=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var dt=function(e){return null!=e&&"object"==typeof e};var vt=function(e){return dt(e)&&"[object Arguments]"==ie(e)},pt=Object.prototype,ht=pt.hasOwnProperty,yt=pt.propertyIsEnumerable,gt=vt(function(){return arguments}())?vt:function(e){return dt(e)&&ht.call(e,"callee")&&!yt.call(e,"callee")},bt=gt;var mt=function(){return!1},jt=W((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?G.Buffer:void 0,i=(o?o.isBuffer:void 0)||mt;e.exports=i})),wt=/^(?:0|[1-9]\d*)$/;var Ct=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&wt.test(e))&&e>-1&&e%1==0&&e<t};var _t=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ot={};Ot["[object Float32Array]"]=Ot["[object Float64Array]"]=Ot["[object Int8Array]"]=Ot["[object Int16Array]"]=Ot["[object Int32Array]"]=Ot["[object Uint8Array]"]=Ot["[object Uint8ClampedArray]"]=Ot["[object Uint16Array]"]=Ot["[object Uint32Array]"]=!0,Ot["[object Arguments]"]=Ot["[object Array]"]=Ot["[object ArrayBuffer]"]=Ot["[object Boolean]"]=Ot["[object DataView]"]=Ot["[object Date]"]=Ot["[object Error]"]=Ot["[object Function]"]=Ot["[object Map]"]=Ot["[object Number]"]=Ot["[object Object]"]=Ot["[object RegExp]"]=Ot["[object Set]"]=Ot["[object String]"]=Ot["[object WeakMap]"]=!1;var Et=function(e){return dt(e)&&_t(e.length)&&!!Ot[ie(e)]};var kt=function(e){return function(t){return e(t)}},Pt=W((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&Y.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i})),Mt=Pt&&Pt.isTypedArray,xt=Mt?kt(Mt):Et,Lt=Object.prototype.hasOwnProperty;var St=function(e,t){var n=f(e),r=!n&&bt(e),o=!n&&!r&&jt(e),i=!n&&!r&&!o&&xt(e),a=n||r||o||i,u=a?ft(e.length,String):[],c=u.length;for(var l in e)!t&&!Lt.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ct(l,c))||u.push(l);return u},At=Object.prototype;var Dt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||At)};var Tt=function(e,t){return function(n){return e(t(n))}},Nt=Tt(Object.keys,Object),Bt=Object.prototype.hasOwnProperty;var Kt=function(e){if(!Dt(e))return Nt(e);var t=[];for(var n in Object(e))Bt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Rt=function(e){return null!=e&&_t(e.length)&&!ue(e)};var zt=function(e){return Rt(e)?St(e):Kt(e)};var $t=function(e){return it(e,zt,st)},It=Object.prototype.hasOwnProperty;var Ut=function(e,t,n,r,o,i){var a=1&n,u=$t(e),c=u.length;if(c!=$t(t).length&&!a)return!1;for(var l=c;l--;){var s=u[l];if(!(a?s in t:It.call(t,s)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var v=!0;i.set(e,t),i.set(t,e);for(var p=a;++l<c;){var h=e[s=u[l]],y=t[s];if(r)var g=a?r(y,h,s,t,e,i):r(h,y,s,e,t,i);if(!(void 0===g?h===y||o(h,y,n,r,i):g)){v=!1;break}p||(p="constructor"==s)}if(v&&!p){var b=e.constructor,m=t.constructor;b==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(v=!1)}return i.delete(e),i.delete(t),v},Ft=we(G,"DataView"),Vt=we(G,"Promise"),Ht=we(G,"Set"),Wt=we(G,"WeakMap"),Yt="[object Map]",qt="[object Promise]",Gt="[object Set]",Qt="[object WeakMap]",Zt="[object DataView]",Jt=de(Ft),Xt=de(Ce),en=de(Vt),tn=de(Ht),nn=de(Wt),rn=ie;(Ft&&rn(new Ft(new ArrayBuffer(1)))!=Zt||Ce&&rn(new Ce)!=Yt||Vt&&rn(Vt.resolve())!=qt||Ht&&rn(new Ht)!=Gt||Wt&&rn(new Wt)!=Qt)&&(rn=function(e){var t=ie(e),n="[object Object]"==t?e.constructor:void 0,r=n?de(n):"";if(r)switch(r){case Jt:return Zt;case Xt:return Yt;case en:return qt;case tn:return Gt;case nn:return Qt}return t});var on=rn,an="[object Arguments]",un="[object Array]",cn="[object Object]",ln=Object.prototype.hasOwnProperty;var sn=function(e,t,n,r,o,i){var a=f(e),u=f(t),c=a?un:on(e),l=u?un:on(t),s=(c=c==an?cn:c)==cn,d=(l=l==an?cn:l)==cn,v=c==l;if(v&&jt(e)){if(!jt(t))return!1;a=!0,s=!1}if(v&&!s)return i||(i=new Ve),a||xt(e)?Ze(e,t,n,r,o,i):rt(e,t,c,n,r,o,i);if(!(1&n)){var p=s&&ln.call(e,"__wrapped__"),h=d&&ln.call(t,"__wrapped__");if(p||h){var y=p?e.value():e,g=h?t.value():t;return i||(i=new Ve),o(y,g,n,r,i)}}return!!v&&(i||(i=new Ve),Ut(e,t,n,r,o,i))};var fn=function e(t,n,r,o,i){return t===n||(null==t||null==n||!dt(t)&&!dt(n)?t!==t&&n!==n:sn(t,n,r,o,e,i))};var dn=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){var c=(u=n[o])[0],l=e[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in e))return!1}else{var f=new Ve;if(r)var d=r(l,s,c,e,t,f);if(!(void 0===d?fn(s,l,3,r,f):d))return!1}}return!0};var vn=function(e){return e===e&&!ae(e)};var pn=function(e){for(var t=zt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,vn(o)]}return t};var hn=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var yn=function(e){var t=pn(e);return 1==t.length&&t[0][2]?hn(t[0][0],t[0][1]):function(n){return n===e||dn(n,e,t)}};var gn=function(e){return"symbol"==typeof e||dt(e)&&"[object Symbol]"==ie(e)},bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mn=/^\w*$/;var jn=function(e,t){if(f(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!gn(e))||(mn.test(e)||!bn.test(e)||null!=t&&e in Object(t))};function wn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(wn.Cache||Ie),n}wn.Cache=Ie;var Cn=wn;var _n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,On=/\\(\\)?/g,En=function(e){var t=Cn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(_n,(function(e,n,r,o){t.push(r?o.replace(On,"$1"):n||e)})),t})),kn=En,Pn=Q?Q.prototype:void 0,Mn=Pn?Pn.toString:void 0;var xn=function e(t){if("string"==typeof t)return t;if(f(t))return L(t,e)+"";if(gn(t))return Mn?Mn.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Ln=function(e){return null==e?"":xn(e)};var Sn=function(e,t){return f(e)?e:jn(e,t)?[e]:kn(Ln(e))};var An=function(e){if("string"==typeof e||gn(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Dn=function(e,t){for(var n=0,r=(t=Sn(t,e)).length;null!=e&&n<r;)e=e[An(t[n++])];return n&&n==r?e:void 0};var Tn=function(e,t,n){var r=null==e?void 0:Dn(e,t);return void 0===r?n:r};var Nn=function(e,t){return null!=e&&t in Object(e)};var Bn=function(e,t,n){for(var r=-1,o=(t=Sn(t,e)).length,i=!1;++r<o;){var a=An(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&_t(o)&&Ct(a,o)&&(f(e)||bt(e))};var Kn=function(e,t){return null!=e&&Bn(e,t,Nn)};var Rn=function(e,t){return jn(e)&&vn(t)?hn(An(e),t):function(n){var r=Tn(n,e);return void 0===r&&r===t?Kn(n,e):fn(t,r,3)}};var zn=function(e){return e};var $n=function(e){return function(t){return null==t?void 0:t[e]}};var In=function(e){return function(t){return Dn(t,e)}};var Un=function(e){return jn(e)?$n(An(e)):In(e)};var Fn=function(e){return"function"==typeof e?e:null==e?zn:"object"==typeof e?f(e)?Rn(e[0],e[1]):yn(e):Un(e)};var Vn=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var c=a[e?u:++o];if(!1===n(i[c],c,i))break}return t}}();var Hn=function(e,t){return function(n,r){if(null==n)return n;if(!Rt(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(e,t){return e&&Vn(e,t,zt)}));var Wn=function(e,t){var n=-1,r=Rt(e)?Array(e.length):[];return Hn(e,(function(e,o,i){r[++n]=t(e,o,i)})),r};var Yn=function(e,t){return(f(e)?L:Wn)(e,Fn(t))};const qn=(e,{at:t,...n}={})=>{if(t||(t=e.selection),!t)return!1;const[r,i]=o.e6.edges(t),a=j(e,{at:r,...n}),u=j(e,{at:i,...n});return a&&u&&!o.y$.equals(a[1],u[1])},Gn=(e,t,n)=>{if(!n||!n.match&&!n.matchString)return o.ML.before(e,t,n);const r=!n.unit||"offset"===n.unit;let i;return(n.matchString?d(n.matchString):[""]).some((a=>{let u=t,c=o.ML.point(e,t,{edge:"end"});const l=a.length+1,s=Array(l);let f=0;for(;;){var d;const p=o.ML.before(e,u,n);if(!p)return;if(qn(e,{at:{anchor:p,focus:c}}))return;const h=o.ML.string(e,{anchor:p,focus:c});let y=h;var v;if(r&&l&&(s.unshift({point:p,text:h}),s.pop(),y=Yn(s.slice(0,-1),"text").join("")),a===y||null!==(d=n.match)&&void 0!==d&&d.call(n,{beforeString:y,beforePoint:p,at:t}))return n.afterMatch?l&&r?(i=null===(v=s[s.length-1])||void 0===v?void 0:v.point,!!i):(i=c,!0):(i=p,!0);if(c=p,u=p,f+=1,!n.skipInvalid&&(!a||f>a.length))return}})),i},Qn=(e,{filter:t,allow:n,exclude:r}={})=>{if(!e)return!1;if(t&&!t(e))return!1;if(n){const t=d(n);if(t.length&&!t.includes(e[0].type))return!1}if(r){const t=d(r);if(t.length&&t.includes(e[0].type))return!1}return!0},Zn=e=>{if(0===e.length)return;const t=e[e.length-1];return t<=0?void 0:e.slice(0,-1).concat(t-1)},Jn=(e,t,n)=>{const r=Gn(e,t,n);if(!r)return;return{anchor:r,focus:o.ML.point(e,t,{edge:"end"})}},Xn=(e,t={})=>{var n;const r=null===(n=j(e,t))||void 0===n?void 0:n[1];if(!r)return;const i=o.ML.start(e,r),a=((e,{at:t=e.selection,focus:n}={})=>{let r;return o.e6.isRange(t)&&(r=n?t.focus:t.anchor),o.E9.isPoint(t)&&(r=t),o.y$.isPath(t)&&(r={path:t,offset:0}),r})(e,t);return a?{anchor:i,focus:a}:void 0},er=(e,t)=>{var n;return null!==(n=t&&o.ML.string(e,t))&&void 0!==n?n:""},tr=e=>!!o.xv.isText(e)||1===e.children.length&&tr(e.children[0]),nr=e=>{var t;const n=null===(t=j(e))||void 0===t?void 0:t[0];return!!n&&((e,t)=>!o.NB.string(t)&&!t.children.some((t=>o.ML.isInline(e,t))))(e,n)},rr=o.xv.isText,or=e=>{if(!e.selection)return!1;const t=j(e);if(!t)return!1;const n=e.selection.focus,r=x(e,e.selection);if(!r)return!1;const[,i]=r;if(!o.ML.isEnd(e,n,i))return!1;const a=((e,t)=>{const[n,r]=e,o=t[r.length],i=[];if(o+1<n.children.length)for(let a=o+1;a<n.children.length;a++)i.push(n.children[a]);return i})(t,n.path);if(!a.length)return o.ML.isEnd(e,n,t[1]);for(const o of a)if(rr(o)&&o.text)return!1;return!0},ir=e=>!!e&&o.e6.isCollapsed(e),ar=e=>!!e&&o.e6.isExpanded(e),ur=e=>0===e[e.length-1];function cr(e){return"undefined"===typeof e}function lr(e){return!(cr(t=e)||function(e){return null===e}(t));var t}const sr=(e,t)=>lr(((e,t)=>{var n;if(e)return null===(n=o.ML.marks(e))||void 0===n?void 0:n[t]})(e,t)),fr=e=>{var t,n;const r=null===(t=j(e))||void 0===t?void 0:t[1];return!!r&&((e,t,n)=>!!t&&o.ML.isEnd(e,t,n))(e,null===(n=e.selection)||void 0===n?void 0:n.focus,r)},dr=(e,t)=>{var n,r;const i=null===(n=j(e,t))||void 0===n?void 0:n[1];return!!i&&((e,t,n)=>!!t&&o.ML.isStart(e,t,n))(e,null===(r=e.selection)||void 0===r?void 0:r.focus,i)},vr=(e,t)=>{var n;return null!==(n=(e=>null!==e&&void 0!==e&&e.pluginsByKey?e.pluginsByKey:{})(e)[t])&&void 0!==n?n:{key:t}},pr=(e,t)=>{var n,r;return null!==(n=null!==(r=vr(e,t).type)&&void 0!==r?r:t)&&void 0!==n?n:""},hr=(e,t,n)=>(d(n).forEach((n=>{if((null===t||void 0===t?void 0:t.type)===pr(e,n))return!0})),!1),yr=(e,t)=>!!b(e,t);var gr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},br=Math.max;var mr=function(e,t,n){return t=br(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=br(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=r[o];return u[t]=n(a),gr(e,this,u)}};var jr=function(e){return function(){return e}},wr=function(){try{var e=we(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Cr=wr?function(e,t){return wr(e,"toString",{configurable:!0,enumerable:!1,value:jr(t),writable:!0})}:zn,_r=Date.now;var Or=function(e){var t=0,n=0;return function(){var r=_r(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Er=Or(Cr);var kr=function(e,t){return Er(mr(e,t,zn),e+"")};var Pr=function(e,t,n){if(!ae(n))return!1;var r=typeof t;return!!("number"==r?Rt(n)&&Ct(t,n.length):"string"==r&&t in n)&&A(n[t],e)};var Mr=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},xr=Object.prototype.hasOwnProperty;var Lr=function(e){if(!ae(e))return Mr(e);var t=Dt(e),n=[];for(var r in e)("constructor"!=r||!t&&xr.call(e,r))&&n.push(r);return n};var Sr=function(e){return Rt(e)?St(e,!0):Lr(e)},Ar=Object.prototype,Dr=Ar.hasOwnProperty,Tr=kr((function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&Pr(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=Sr(i),u=-1,c=a.length;++u<c;){var l=a[u],s=e[l];(void 0===s||A(s,Ar[l])&&!Dr.call(e,l))&&(e[l]=i[l])}return e}));const Nr=({node:e,source:t,apply:n,query:r})=>{Qn([e,[]],r)&&n(e,t instanceof Function?t():t),E(e)&&e.children.forEach((e=>{Nr({node:e,source:t,apply:n,query:r})}))},Br=e=>{Nr({...e,apply:Tr})},Kr=(e,t={})=>{o.ML.withoutNormalizing(e,(()=>{const{reverse:n=!1,unit:r="character",distance:i=1,voids:a=!1}=t;let{at:u=e.selection,hanging:c=!1}=t;if(!u)return;if(o.e6.isRange(u)&&o.e6.isCollapsed(u)&&(u=u.anchor),o.E9.isPoint(u)){const t=o.ML.void(e,{at:u,mode:"highest"});if(!a&&t){const[,e]=t;u=e}else{const t={unit:r,distance:i};u={anchor:u,focus:n?o.ML.before(e,u,t)||o.ML.start(e,[]):o.ML.after(e,u,t)||o.ML.end(e,[])},c=!0}}if(o.y$.isPath(u))return void o.YR.removeNodes(e,{at:u,voids:a});if(o.e6.isCollapsed(u))return;c||(u=o.ML.unhangRange(e,u,{voids:a}));let[l,s]=o.e6.edges(u);const f=o.ML.above(e,{match:t=>o.ML.isBlock(e,t),at:l,voids:a}),d=o.ML.above(e,{match:t=>o.ML.isBlock(e,t),at:s,voids:a}),v=f&&d&&!o.y$.equals(f[1],d[1]),p=o.y$.equals(l.path,s.path),h=a?null:o.ML.void(e,{at:l,mode:"highest"}),y=a?null:o.ML.void(e,{at:s,mode:"highest"});if(h){const t=o.ML.before(e,l);t&&f&&o.y$.isAncestor(f[1],t.path)&&(l=t)}if(y){const t=o.ML.after(e,s);t&&d&&o.y$.isAncestor(d[1],t.path)&&(s=t)}const g=[];let b;for(const t of o.ML.nodes(e,{at:u,voids:a})){const[n,r]=t;b&&0===o.y$.compare(r,b)||(!a&&o.ML.isVoid(e,n)||!o.y$.isCommon(r,l.path)&&!o.y$.isCommon(r,s.path))&&(g.push(t),b=r)}const m=Array.from(g,(([,t])=>o.ML.pathRef(e,t))),j=o.ML.pointRef(e,l),w=o.ML.pointRef(e,s);if(!p&&!h){const t=j.current,[n]=o.ML.leaf(e,t),{path:r}=t,{offset:i}=l,a=n.text.slice(i);e.apply({type:"remove_text",path:r,offset:i,text:a})}for(const t of m){const n=t.unref();o.YR.removeNodes(e,{at:n,voids:a})}if(!y){const t=w.current,[n]=o.ML.leaf(e,t),{path:r}=t,i=p?l.offset:0,a=n.text.slice(i,s.offset);e.apply({type:"remove_text",path:r,offset:i,text:a})}!p&&v&&w.current&&j.current&&((e,t={})=>{o.ML.withoutNormalizing(e,(()=>{let{match:n,at:r=e.selection}=t;const{mergeNode:i,removeEmptyAncestor:a,hanging:u=!1,voids:c=!1,mode:l="lowest"}=t;if(!r)return;if(null==n)if(o.y$.isPath(r)){const[t]=o.ML.parent(e,r);n=e=>t.children.includes(e)}else n=t=>o.ML.isBlock(e,t);if(!u&&o.e6.isRange(r)&&(r=o.ML.unhangRange(e,r)),o.e6.isRange(r))if(o.e6.isCollapsed(r))r=r.anchor;else{const[,n]=o.e6.edges(r),i=o.ML.pointRef(e,n);o.YR.delete(e,{at:r}),r=i.unref(),null==t.at&&o.YR.select(e,r)}const[s]=o.ML.nodes(e,{at:r,match:n,voids:c,mode:l}),f=o.ML.previous(e,{at:r,match:n,voids:c,mode:l});if(!s||!f)return;const[d,v]=s,[p,h]=f;if(0===v.length||0===h.length)return;const y=o.y$.next(h),g=o.y$.common(v,h),b=o.y$.isSibling(v,h),m=Array.from(o.ML.levels(e,{at:v}),(([e])=>e)).slice(g.length).slice(0,-1),j=o.ML.above(e,{at:v,mode:"highest",match:e=>m.includes(e)&&o.W_.isElement(e)&&tr(e)}),w=j&&o.ML.pathRef(e,j[1]);let C,_;if(o.xv.isText(d)&&o.xv.isText(p)){const{text:e,...t}=d;_=p.text.length,C=t}else{if(!o.W_.isElement(d)||!o.W_.isElement(p))throw new Error(`Cannot merge the node at path [${v}] with the previous sibling because it is not the same kind: ${JSON.stringify(d)} ${JSON.stringify(p)}`);{const{children:e,...t}=d;_=p.children.length,C=t}}if(b||i||o.YR.moveNodes(e,{at:v,to:y,voids:c}),w)if(a){const t=w.current;t&&a(e,{at:t})}else o.YR.removeNodes(e,{at:w.current,voids:c});i?i(e,{at:v,to:y}):o.W_.isElement(p)&&o.ML.isEmpty(e,p)||o.xv.isText(p)&&""===p.text?o.YR.removeNodes(e,{at:h,voids:c}):e.apply({type:"merge_node",path:y,position:_,properties:C}),w&&w.unref()}))})(e,{at:w.current,hanging:!0,voids:a});const C=w.unref()||j.unref();null==t.at&&C&&o.YR.select(e,C)}))},Rr=(e,t,n)=>o.YR.insertNodes(e,t,n),zr=(e,t,n)=>{Rr(e,{type:t,children:[{text:""}]},p(e,n))},$r=(e,{at:t,to:n,match:r,fromStartIndex:i=0})=>{let a=0;const u=o.y$.isPath(t)?t:t[1],c=o.y$.isPath(t)?o.NB.get(e,u):t[0];if(!o.ML.isBlock(e,c))return a;for(let l=c.children.length-1;l>=i;l--){const t=[...u,l],i=M(e,t);(!r||i&&r([i,t]))&&(o.YR.moveNodes(e,{at:t,to:n}),a++)}return a},Ir=(e,{key:t,at:n,shouldChange:r=!0,...i})=>{const a=null!==n&&void 0!==n?n:e.selection;if(t=d(t),a)if(o.e6.isRange(a)&&o.e6.isExpanded(a))o.YR.unsetNodes(e,t,{at:a,match:o.xv.isText,split:!0,...i});else if(e.selection){const n={...o.ML.marks(e)||{}};t.forEach((e=>{delete n[e]})),e.marks=n,r&&e.onChange()}},Ur=(e,t,n)=>o.YR.setNodes(e,t,n),Fr=(e,{key:t,clear:n})=>{e.selection&&o.ML.withoutNormalizing(e,(()=>{if(sr(e,t))return void Ir(e,{key:t});const r=d(n);Ir(e,{key:r}),e.addMark(t,!0)}))},Vr="p",Hr=(e,t,n)=>{const{activeType:r,inactiveType:o=pr(e,Vr)}=t;if(!r||!e.selection)return;const i=yr(e,{...n,match:{type:r}});i&&r===o||Ur(e,{type:i?o:r})},Wr=(e,t)=>{o.YR.unwrapNodes(e,p(e,t))},Yr=(e,t,n={})=>{y(e,n),o.YR.wrapNodes(e,t,n)},qr=(e,t)=>e&&e.nodeName!==t?qr(e.parentElement,t):e,Gr=(e,...t)=>n=>{n.preventDefault(),null===e||void 0===e||e(...t)},Qr=/^(?:\w+:)?\/\/(\S+)$/,Zr=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,Jr=/^[^\s.]+\.\S{2,}$/,Xr=e=>{if("string"!==typeof e)return!1;const t=e.match(Qr);if(!t)return!1;const n=t[1];if(!n)return!1;try{new URL(e)}catch(r){return!1}return Zr.test(n)||Jr.test(n)},eo=(e,t,n)=>(e=((e,t,n)=>{const r=((e,t)=>e.some(((e,n,r)=>{const o=r[n-1];return 0!==n&&t(e)!==t(o)})))(e,t),{fragment:o}=e.reduce(((e,o)=>{if(r&&t(o)){let t=e.precedingBlock;t||(t=n(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(o)}else e.fragment.push(o),e.precedingBlock=null;return e}),{fragment:[],precedingBlock:null});return o})(e=(e=>e.length?e:[{text:""}])(e),t,n),e=e.map((e=>O(e)?{...e,children:eo(e.children,t,n)}:e))),to=(e,{descendants:t})=>{const n=(e=>t=>o.xv.isText(t)||e.isInline(t))(e),r=pr(e,Vr),i=(a=r,()=>({type:a,children:[]}));var a;return eo(t,n,i)};var no,ro=W((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)i["f"+a]=111+a;function u(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return c(e,t)})),o=function(e){return r.some((function(t){return l(t,e)}))};return null==n?o:o(n)}function c(e,t){var n=t&&t.byKey,o={},i=(e=e.replace("++","+add")).split("+"),a=i.length;for(var u in r)o[r[u]]=!1;var c=!0,l=!1,d=void 0;try{for(var v,p=i[Symbol.iterator]();!(c=(v=p.next()).done);c=!0){var h=v.value,y=h.endsWith("?")&&h.length>1;y&&(h=h.slice(0,-1));var g=f(h),b=r[g];1!==a&&b||(n?o.key=g:o.which=s(h)),b&&(o[b]=!y||null)}}catch(m){l=!0,d=m}finally{try{!c&&p.return&&p.return()}finally{if(l)throw d}}return o}function l(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}function s(e){return e=f(e),i[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=o[e]||e}t.default=u,t.isHotkey=u,t.isCodeHotkey=function(e,t){return u(e,t)},t.isKeyHotkey=function(e,t){return u(e,{byKey:!0},t)},t.parseHotkey=c,t.compareHotkey=l,t.toKeyCode=s,t.toKeyName=f})),oo=(no=ro)&&no.__esModule&&Object.prototype.hasOwnProperty.call(no,"default")?no.default:no;ro.isHotkey,ro.isCodeHotkey,ro.isKeyHotkey,ro.parseHotkey,ro.compareHotkey,ro.toKeyCode,ro.toKeyName;const io=(e,{type:t,options:{hotkey:n}})=>r=>{const o=pr(e,Vr);if(!n)return;const i=d(n);for(const n of i)if(oo(n,r))return r.preventDefault(),void Hr(e,{activeType:t,inactiveType:o})},ao=(e,{type:t,options:{hotkey:n,clear:r}})=>o=>{n&&oo(n,o)&&(o.preventDefault(),Fr(e,{key:t,clear:r}))},uo=({attributes:e,children:t,text:n,leaf:o,editor:i,nodeProps:a,...u})=>r.createElement("span",s({},e,u),t);var co=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var lo=function(e,t,n){"__proto__"==t&&wr?wr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},so=Object.prototype.hasOwnProperty;var fo=function(e,t,n){var r=e[t];so.call(e,t)&&A(r,n)&&(void 0!==n||t in e)||lo(e,t,n)};var vo=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],c=r?r(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),o?lo(n,u,c):fo(n,u,c)}return n};var po=function(e,t){return e&&vo(t,zt(t),e)};var ho=function(e,t){return e&&vo(t,Sr(t),e)},yo=W((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?G.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}));var go=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var bo=function(e,t){return vo(e,st(e),t)},mo=Tt(Object.getPrototypeOf,Object),jo=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ot(t,st(e)),e=mo(e);return t}:ut;var wo=function(e,t){return vo(e,jo(e),t)};var Co=function(e){return it(e,Sr,jo)},_o=Object.prototype.hasOwnProperty;var Oo=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&_o.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var Eo=function(e){var t=new e.constructor(e.byteLength);return new Je(t).set(new Je(e)),t};var ko=function(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Po=/\w*$/;var Mo=function(e){var t=new e.constructor(e.source,Po.exec(e));return t.lastIndex=e.lastIndex,t},xo=Q?Q.prototype:void 0,Lo=xo?xo.valueOf:void 0;var So=function(e){return Lo?Object(Lo.call(e)):{}};var Ao=function(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Do=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Eo(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return ko(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ao(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Mo(e);case"[object Symbol]":return So(e)}},To=Object.create,No=function(){function e(){}return function(t){if(!ae(t))return{};if(To)return To(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Bo=function(e){return"function"!=typeof e.constructor||Dt(e)?{}:No(mo(e))};var Ko=function(e){return dt(e)&&"[object Map]"==on(e)},Ro=Pt&&Pt.isMap,zo=Ro?kt(Ro):Ko;var $o=function(e){return dt(e)&&"[object Set]"==on(e)},Io=Pt&&Pt.isSet,Uo=Io?kt(Io):$o,Fo="[object Arguments]",Vo="[object Function]",Ho="[object Object]",Wo={};Wo[Fo]=Wo["[object Array]"]=Wo["[object ArrayBuffer]"]=Wo["[object DataView]"]=Wo["[object Boolean]"]=Wo["[object Date]"]=Wo["[object Float32Array]"]=Wo["[object Float64Array]"]=Wo["[object Int8Array]"]=Wo["[object Int16Array]"]=Wo["[object Int32Array]"]=Wo["[object Map]"]=Wo["[object Number]"]=Wo[Ho]=Wo["[object RegExp]"]=Wo["[object Set]"]=Wo["[object String]"]=Wo["[object Symbol]"]=Wo["[object Uint8Array]"]=Wo["[object Uint8ClampedArray]"]=Wo["[object Uint16Array]"]=Wo["[object Uint32Array]"]=!0,Wo["[object Error]"]=Wo[Vo]=Wo["[object WeakMap]"]=!1;var Yo=function e(t,n,r,o,i,a){var u,c=1&n,l=2&n,s=4&n;if(r&&(u=i?r(t,o,i,a):r(t)),void 0!==u)return u;if(!ae(t))return t;var d=f(t);if(d){if(u=Oo(t),!c)return go(t,u)}else{var v=on(t),p=v==Vo||"[object GeneratorFunction]"==v;if(jt(t))return yo(t,c);if(v==Ho||v==Fo||p&&!i){if(u=l||p?{}:Bo(t),!c)return l?wo(t,ho(u,t)):bo(t,po(u,t))}else{if(!Wo[v])return i?t:{};u=Do(t,v,c)}}a||(a=new Ve);var h=a.get(t);if(h)return h;a.set(t,u),Uo(t)?t.forEach((function(o){u.add(e(o,n,r,o,t,a))})):zo(t)&&t.forEach((function(o,i){u.set(i,e(o,n,r,i,t,a))}));var y=d?void 0:(s?l?Co:$t:l?Sr:zt)(t);return co(y||t,(function(o,i){y&&(o=t[i=o]),fo(u,i,e(o,n,r,i,t,a))})),u};var qo=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Go=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i};var Qo=function(e,t){return t.length<2?e:Dn(e,Go(t,0,-1))};var Zo=function(e,t){return t=Sn(t,e),null==(e=Qo(e,t))||delete e[An(qo(t))]},Jo=Function.prototype,Xo=Object.prototype,ei=Jo.toString,ti=Xo.hasOwnProperty,ni=ei.call(Object);var ri=function(e){if(!dt(e)||"[object Object]"!=ie(e))return!1;var t=mo(e);if(null===t)return!0;var n=ti.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ei.call(n)==ni};var oi=function(e){return ri(e)?void 0:e},ii=Q?Q.isConcatSpreadable:void 0;var ai=function(e){return f(e)||bt(e)||!!(ii&&e&&e[ii])};var ui=function e(t,n,r,o,i){var a=-1,u=t.length;for(r||(r=ai),i||(i=[]);++a<u;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,o,i):ot(i,c):o||(i[i.length]=c)}return i};var ci=function(e){return(null==e?0:e.length)?ui(e,1):[]};var li=function(e){return Er(mr(e,void 0,ci),e+"")}((function(e,t){var n={};if(null==e)return n;var r=!1;t=L(t,(function(t){return t=Sn(t,e),r||(r=t.length>1),t})),vo(e,Co(e),n),r&&(n=Yo(n,7,oi));for(var o=t.length;o--;)Zo(n,t[o]);return n}));const si=(0,u.MT)("event-editor")({blur:null,focus:null,last:null}),fi=si.set,di=si.get,vi=si.use;var pi=function(e,t,n){(void 0!==n&&!A(e[t],n)||void 0===n&&!(t in e))&&lo(e,t,n)};var hi=function(e){return dt(e)&&Rt(e)};var yi=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};var gi=function(e){return vo(e,Sr(e))};var bi=function(e,t,n,r,o,i,a){var u=yi(e,n),c=yi(t,n),l=a.get(c);if(l)pi(e,n,l);else{var s=i?i(u,c,n+"",e,t,a):void 0,d=void 0===s;if(d){var v=f(c),p=!v&&jt(c),h=!v&&!p&&xt(c);s=c,v||p||h?f(u)?s=u:hi(u)?s=go(u):p?(d=!1,s=yo(c,!0)):h?(d=!1,s=Ao(c,!0)):s=[]:ri(c)||bt(c)?(s=u,bt(u)?s=gi(u):ae(u)&&!ue(u)||(s=Bo(c))):d=!1}d&&(a.set(c,s),o(s,c,r,i,a),a.delete(c)),pi(e,n,s)}};var mi=function e(t,n,r,o,i){t!==n&&Vn(n,(function(a,u){if(i||(i=new Ve),ae(a))bi(t,n,u,r,e,o,i);else{var c=o?o(yi(t,u),a,u+"",t,n,i):void 0;void 0===c&&(c=a),pi(t,u,c)}}),Sr)};var ji=function e(t,n,r,o,i,a){return ae(t)&&ae(n)&&(a.set(n,t),mi(t,n,void 0,e,a),a.delete(n)),t};var wi=function(e){return kr((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Pr(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t}))},Ci=wi((function(e,t,n,r){mi(e,t,n,r)})),_i=kr((function(e){return e.push(void 0,ji),gr(Ci,void 0,e)}));const Oi=(e,t={},n)=>{var r;if(t[e.key]){const{plugins:r,then:o,...i}=t[e.key];e=_i(i,e),n||null===r||void 0===r||r.forEach((t=>{e.plugins||(e.plugins=[]);e.plugins.find((e=>e.key===t.key))||e.plugins.push(t)}))}e.plugins&&(e.plugins=e.plugins.map((e=>Oi(e,t,!0))));const{then:o}=e;return o?e.then=(n,r)=>{const i={key:e.key,...o(n,r)};return _i(Oi(i,t),i)}:null!==(r=t[e.key])&&void 0!==r&&r.then&&(e.then=t[e.key].then),e},Ei=e=>(t,n={})=>(n[e.key]=t,Oi({...e},n)),ki="deserializeAst",Pi=Ei({key:ki,editor:{insertData:{format:"application/x-slate-fragment",getFragment:({data:e})=>{const t=decodeURIComponent(window.atob(e));return JSON.parse(t)}}}}),Mi="event-editor",xi=Ei({key:Mi,handlers:{onFocus:e=>()=>{var t;null===(t=fi.focus)||void 0===t||t.call(fi,e.id)},onBlur:e=>()=>{var t;null===(t=fi.blur)||void 0===t||t.call(fi,e.id)}}}),Li=Ei({key:"history",withOverrides:c.VC}),Si="inline-void",Ai=Ei({key:Si,withOverrides:e=>{const{isInline:t}=e,{isVoid:n}=e,r=[],o=[];return e.plugins.forEach((e=>{e.isInline&&r.push(e.type),e.isVoid&&o.push(e.type)})),e.isInline=e=>!!r.includes(e.type)||t(e),e.isVoid=e=>!!o.includes(e.type)||n(e),e}}),Di=(e,t)=>{const n=[];return[...e.plugins].reverse().forEach((e=>{var r;const o=null===(r=e.inject.pluginsByKey)||void 0===r?void 0:r[t.key];o&&n.push(o)})),[t,...n]},Ti="insertData",Ni=Ei({key:Ti,withOverrides:e=>{const{insertData:t}=e;return e.insertData=n=>{const r=[...e.plugins].reverse().some((t=>{var r;const i=t.editor.insertData;if(!i)return!1;const a=Di(e,t),{format:u,getFragment:c}=i;if(!u)return!1;let l=n.getData(u);if(!l)return;if(!((e,{data:t,dataTransfer:n})=>e.every((e=>{var r,o;const i=null===(r=e.editor)||void 0===r||null===(o=r.insertData)||void 0===o?void 0:o.query;return!i||i({data:t,dataTransfer:n})})))(a,{data:l,dataTransfer:n}))return!1;l=((e,{data:t,dataTransfer:n})=>(e.forEach((e=>{var r,o;const i=null===(r=e.editor)||void 0===r||null===(o=r.insertData)||void 0===o?void 0:o.transformData;i&&(t=i(t,{dataTransfer:n}))})),t))(a,{data:l,dataTransfer:n});let s=null===c||void 0===c?void 0:c({data:l,dataTransfer:n});return!(null===(r=s)||void 0===r||!r.length)&&(s=((e,{fragment:t,...n})=>(e.forEach((e=>{var r,o;const i=null===(r=e.editor)||void 0===r||null===(o=r.insertData)||void 0===o?void 0:o.transformFragment;i&&(t=i(t,n))})),t))(a,{fragment:s,data:l,dataTransfer:n}),!!s.length&&(((e,t,{fragment:n,...r})=>{o.ML.withoutNormalizing(e,(()=>{t.some((e=>{var t,o,i;return!0===(null===(t=e.editor)||void 0===t||null===(o=t.insertData)||void 0===o||null===(i=o.preInsert)||void 0===i?void 0:i.call(o,n,r))})),e.insertFragment(n)}))})(e,a,{fragment:s,data:l,dataTransfer:n}),!0))}));r||t(n)},e}}),Bi=Ei({key:"react",withOverrides:i.BU});function Ki(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ri(e){var t,n;return!1!==Ki(e)&&(void 0===(t=e.constructor)||!1!==Ki(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}function zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $i=new WeakMap,Ii=new WeakMap;class Ui{}class Fi extends Ui{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:n}=e;this.offset=t,this.path=n}}class Vi extends Ui{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:n}=e;this.offset=t,this.path=n}}var Hi=e=>Ii.get(e);function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(n),!0).forEach((function(t){zi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qi=new WeakSet,Gi=e=>{var t=[],n=e=>{if(null!=e){var r=t[t.length-1];if("string"===typeof e){var i={text:e};qi.add(i),e=i}if(o.xv.isText(e)){var a=e;o.xv.isText(r)&&qi.has(r)&&qi.has(a)&&o.xv.equals(r,a,{loose:!0})?r.text+=a.text:t.push(a)}else if(o.W_.isElement(e))t.push(e);else{if(!(e instanceof Ui))throw new Error("Unexpected hyperscript child object: ".concat(e));var u=t[t.length-1];o.xv.isText(u)||(n(""),u=t[t.length-1]),e instanceof Fi?((e,t)=>{var n=e.text.length;$i.set(e,[n,t])})(u,e):e instanceof Vi&&((e,t)=>{var n=e.text.length;Ii.set(e,[n,t])})(u,e)}}};for(var r of e.flat(1/0))n(r);return t};function Qi(e,t,n){return Yi(Yi({},t),{},{children:Gi(n)})}function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(n),!0).forEach((function(t){zi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xi,ea={anchor:function(e,t,n){return new Fi(t)},cursor:function(e,t,n){return[new Fi(t),new Vi(t)]},editor:(Xi=o.Jh,(e,t,n)=>{var r,i=[];for(var a of n)o.e6.isRange(a)?r=a:i.push(a);var u,c=Gi(i),l={},s=Xi();for(var[f,d]of(Object.assign(s,t),s.children=c,o.NB.texts(s))){var v=(u=f,$i.get(u)),p=Hi(f);if(null!=v){var[h]=v;l.anchor={path:d,offset:h}}if(null!=p){var[y]=p;l.focus={path:d,offset:y}}}if(l.anchor&&!l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!l.anchor&&l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=r?s.selection=r:o.e6.isRange(l)&&(s.selection=l),s}),element:Qi,focus:function(e,t,n){return new Vi(t)},fragment:function(e,t,n){return Gi(n)},selection:function(e,t,n){var r=n.find((e=>e instanceof Fi)),o=n.find((e=>e instanceof Vi));if(!r||null==r.offset||null==r.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return Yi({anchor:{offset:r.offset,path:r.path},focus:{offset:o.offset,path:o.path}},t)},text:function(e,t,n){var r=Gi(n);if(r.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[i]=r;if(null==i&&(i={text:""}),!o.xv.isText(i))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return qi.delete(i),Object.assign(i,t),i}},ta=e=>function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=e[t];if(!a)throw new Error("No hyperscript creator found for tag: <".concat(t,">"));null==n&&(n={}),Ri(n)||(o=[n].concat(o),n={});var u=a(t,n,o=o.filter((e=>Boolean(e))).flat());return u},na=e=>{var t={},n=function(n){var r=e[n];if("object"!==typeof r)throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(r));t[n]=(e,t,n)=>Qi(0,Ji(Ji({},r),t),n)};for(var r in e)n(r);return t},ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,n=na(t),r=Ji(Ji(Ji({},ea),n),e.creators),o=ta(r);return o}();const oa=(e,t)=>Array.from(t.childNodes).map(fa(e)).flat(),ia=(e,t,{element:n,deserializeLeaf:r})=>{var o;const{deserializeHtml:i,isElement:a,isLeaf:u,type:c}=t;if(!i)return;const{attributeNames:l,query:s,isLeaf:f,isElement:v,rules:p}=i;let{getNode:h}=i;const y=v||a,g=f||u;if(!r&&!y)return;if(r&&!g)return;if(p){if(!p.some((({validNodeName:e="*",validStyle:r,validClassName:o,validAttribute:i})=>{if(e){const t=d(e);if(t.length&&!t.includes(n.nodeName)&&"*"!==e)return!1}if(o&&!n.className.includes(o))return!1;if(r)for(const[u,c]of Object.entries(r)){var a;if(!d(c).includes(n.style[u])&&"*"!==c)return;if("*"===c&&!n.style[u])return;const e=null===(a=t.inject.props)||void 0===a?void 0:a.defaultNodeValue;if(e&&e===n.style[u])return!1}if(i)if("string"===typeof i){if(!n.getAttributeNames().includes(i))return!1}else for(const[t,u]of Object.entries(i)){const e=d(u),r=n.getAttribute(t);if(!r||!e.includes(r))return!1}return!0})))return}if(s&&!s(n))return;if(!h)if(y)h=()=>({type:c});else{if(!g)return;h=()=>({[c]:!0})}let b=null!==(o=h(n,{}))&&void 0!==o?o:{};if(!Object.keys(b).length)return;if(Di(e,t).forEach((e=>{var t,r;const o=null===(t=e.deserializeHtml)||void 0===t||null===(r=t.getNode)||void 0===r?void 0:r.call(t,n,b);o&&(b={...b,...o})})),l){const e={},t=n.getAttributeNames();for(const r of t)l.includes(r)&&(e[r]=n.getAttribute(r));Object.keys(e).length&&(b.attributes=e)}return{...i,node:b}},aa=(e,t)=>{const n=((e,t)=>{let n;return[...e.plugins].reverse().some((r=>(n=ia(e,r,{element:t}),!!n))),n})(e,t);if(n){var r;const{node:o,withoutChildren:i}=n;let a=null!==(r=o.children)&&void 0!==r?r:oa(e,t);return a.length&&!i||(a=[{text:""}]),ra("element",o,a)}};var ua=wi((function(e,t,n){mi(e,t,n)}));const ca=(e,t)=>{const n=((e,t)=>{let n={};return[...e.plugins].reverse().forEach((r=>{const o=ia(e,r,{element:t,deserializeLeaf:!0});o&&(n={...n,...o.node})})),n})(e,t);return oa(e,t).reduce(((e,t)=>{if(!t)return e;if(O(t))Object.keys(n).length&&(r={node:t,source:n,query:{filter:([e])=>o.xv.isText(e)}},Nr({...r,apply:ua})),e.push(t);else{const r={...n};t.text&&Object.keys(r).forEach((e=>{r[e]&&t[e]&&(r[e]=t[e])})),e.push(ra("text",r,t))}var r;return e}),[])},la=e=>e.nodeType===Node.TEXT_NODE,sa=e=>e.nodeType===Node.ELEMENT_NODE,fa=e=>t=>{const n=(e=>{if(la(e))return"\n"===e.nodeValue?null:e.textContent})(t);if(n)return n;if(!sa(t))return null;const r=(e=>{if("BR"===e.nodeName)return"\n"})(t);if(r)return r;const o=((e,t)=>{if("BODY"===t.nodeName)return ra("fragment",{},oa(e,t))})(e,t);if(o)return o;const i=aa(e,t);return i||ca(e,t)},da=(e,{element:t,stripWhitespace:n=!0})=>{"string"===typeof t&&(t=((e,t=!0)=>{const n=document.createElement("body");return n.innerHTML=e,t&&(n.innerHTML=n.innerHTML.replace(/(\r\n|\n|\r|\t)/gm,"")),n})(t,n));const r=((e,t)=>fa(e)(t))(e,t);return to(e,{descendants:r})},va=e=>(new DOMParser).parseFromString(e,"text/html"),pa="deserializeHtml",ha=Ei({key:pa,then:e=>({editor:{insertData:{format:"text/html",getFragment:({data:t})=>{const n=va(t);return da(e,{element:n.body})}}}})});var ya=function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r};var ga=function(e,t,n,r){return Hn(e,(function(e,o,i){t(r,e,n(e),i)})),r};var ba=function(e,t){return function(n,r){var o=f(n)?ya:ga,i=t?t():{};return o(n,e,Fn(r),i)}}((function(e,t,n){lo(e,n,t)}));var ma=function(e,t){return L(t,(function(t){return e[t]}))};var ja=function(e){return null==e?[]:ma(e,zt(e))};const wa=(e,t)=>{const n={...t},{then:r}=n;if(r){delete n.then;const{plugins:t}=n,o=wa(e,_i(r(e,n),n));if(t&&o.plugins){const e=ua(ba(t,"key"),ba(o.plugins,"key"));o.plugins=ja(e)}return o}return n},Ca=(e,t)=>{t&&t.forEach((t=>{let n=(e=>(void 0===e.type&&(e.type=e.key),e.options||(e.options={}),e.inject||(e.inject={}),e.editor||(e.editor={}),e))(t);if(n=wa(e,n),e.pluginsByKey[n.key]){const t=e.plugins.indexOf(e.pluginsByKey[n.key]),r=_i(n,e.pluginsByKey[n.key]);t>=0&&(e.plugins[t]=r),e.pluginsByKey[n.key]=r}else e.plugins.push(n),e.pluginsByKey[n.key]=n;Ca(e,n.plugins)}))},_a=(e,{disableCorePlugins:t,plugins:n=[]})=>{let r=[];if(!0!==t){const n=t;var o,i,a,u,c,l,s,f,d,v,p,h,y,g;if("object"!==typeof n||!n.react)r.push(null!==(o=null===(i=e.pluginsByKey)||void 0===i?void 0:i.react)&&void 0!==o?o:Bi());if("object"!==typeof n||!n.history)r.push(null!==(a=null===(u=e.pluginsByKey)||void 0===u?void 0:u.history)&&void 0!==a?a:Li());if("object"!==typeof n||!n.eventEditor)r.push(null!==(c=null===(l=e.pluginsByKey)||void 0===l?void 0:l["event-editor"])&&void 0!==c?c:xi());if("object"!==typeof n||!n.inlineVoid)r.push(null!==(s=null===(f=e.pluginsByKey)||void 0===f?void 0:f["inline-void"])&&void 0!==s?s:Ai());if("object"!==typeof n||!n.insertData)r.push(null!==(d=null===(v=e.pluginsByKey)||void 0===v?void 0:v.insertData)&&void 0!==d?d:Ni());if("object"!==typeof n||!n.deserializeHtml)r.push(null!==(p=null===(h=e.pluginsByKey)||void 0===h?void 0:h[pa])&&void 0!==p?p:ha());if("object"!==typeof n||!n.deserializeAst)r.push(null!==(y=null===(g=e.pluginsByKey)||void 0===g?void 0:g.deserializeAst)&&void 0!==y?y:Pi())}r=[...r,...n],e.plugins=[],e.pluginsByKey={},Ca(e,r),e.plugins.forEach((t=>{if(t.overrideByKey){const n=e.plugins.map((e=>Oi(e,t.overrideByKey)));e.plugins=[],e.pluginsByKey={},Ca(e,n)}})),Aa(e.id).incrementKey("keyPlugins")},Oa=(e,{id:t="main",plugins:n=[],disableCorePlugins:r}={})=>{let o=e;return o.id=t,o.key||(o.key=Math.random()),_a(o,{plugins:n,disableCorePlugins:r}),o.plugins.forEach((e=>{e.withOverrides&&(o=e.withOverrides(o,e))})),o},Ea=(e={})=>(0,u.MT)(`plate-${e.id}`)({id:"main",value:[{type:Vr,children:[{text:""}]}],editor:null,keyEditor:1,keyPlugins:1,keySelection:1,decorate:null,enabled:!0,editableProps:null,onChange:null,plugins:[],renderElement:null,renderLeaf:null,...e}).extendActions(((t,n)=>({resetEditor:()=>{var r;t.editor(Oa((0,o.Jh)(),{id:e.id,plugins:null===(r=n.editor())||void 0===r?void 0:r.plugins}))},incrementKey:e=>{var r;const o=null!==(r=n[e]())&&void 0!==r?r:1;t[e](o+1)}}))),ka=e=>{var t,n,r;const o=null===(t=vi.focus)||void 0===t?void 0:t.call(vi),i=null===(n=vi.blur)||void 0===n?void 0:n.call(vi),a=null===(r=vi.last)||void 0===r?void 0:r.call(vi);return e||(o||(i||(null!==a&&void 0!==a?a:"main")))},Pa=Ea({id:"loading"}),Ma=e=>{e=(e=>{var t,n,r;if(e)return e;const o=null===(t=di.focus)||void 0===t?void 0:t.call(di);if(o)return o;const i=null===(n=di.blur)||void 0===n?void 0:n.call(di);if(i)return i;const a=null===(r=di.last)||void 0===r?void 0:r.call(di);return null!==a&&void 0!==a?a:"main"})(e);return xa.get.get(e)||Pa},xa=(0,u.MT)("plate")({}).extendActions((e=>({set:t=>{e.state((e=>{t&&!e[t]&&(e[t]=Ea({id:t}),fi.last(t))}))},unset:t=>{e.state((e=>{delete e[t]}))}}))).extendSelectors((e=>({get:t=>e[t],has:t=>!!e[t]}))),La=xa.set,Sa=(xa.get,xa.use),Aa=e=>Ma(e).set,Da=e=>(e=>(e=ka(e),xa.use.get(e)||Pa))(e).use,Ta=e=>Da(e).editor(),Na=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ba=(e,t)=>{const n=e.plugins.flatMap((t=>{var n,r;return null!==(n=null===(r=t.decorate)||void 0===r?void 0:r.call(t,e,t))&&void 0!==n?n:[]}));if(t&&n.push(t),n.length)return e=>{let t=[];return n.forEach((n=>{var r;null!==(r=n(e))&&void 0!==r&&r.length&&(t=[...t,...r])})),t}},Ka=(e,t)=>{if(!t)return!1;const n=t(e);return null!=n?n:e.isPropagationStopped()},Ra=(e,t)=>(e.plugins.forEach((e=>{if(e.inject.props){const n=((e,{key:t,inject:{props:n}},r)=>{var o;const{element:i,text:a,className:u,style:c}=r,s=null!==i&&void 0!==i?i:a;if(!s)return;if(!n)return;const{nodeKey:f=t,styleKey:d=f,validTypes:v,classNames:p,transformClassName:h,transformNodeValue:y,transformStyle:g,validNodeValues:b,defaultNodeValue:m}=n;if(v&&s.type&&!v.includes(s.type))return;const j=s[f];if(!j||b&&!b.includes(j)||j===m)return;const w={},C={...r,nodeValue:j},_=null!==(o=null===y||void 0===y?void 0:y(C))&&void 0!==o?o:j;var O,E;return i&&(w.className=(0,l.Z)(u,`slate-${f}-${j}`)),(null!==p&&void 0!==p&&p[j]||h)&&(w.className=null!==(O=null===h||void 0===h?void 0:h(C))&&void 0!==O?O:(0,l.Z)(u,null===p||void 0===p?void 0:p[_])),d&&(w.style=null!==(E=null===g||void 0===g?void 0:g(C))&&void 0!==E?E:{...c,[d]:_}),w})(0,e,t);n&&(t={...t,...n})}})),{...t,editor:e}),za=e=>`slate-${e}`,$a=({attributes:e,nodeProps:t,props:n,type:r})=>{let o={};var i;n&&(o=null!==(i="function"===typeof n?n(t):n)&&void 0!==i?i:{});!o.nodeProps&&e&&(o.nodeProps=e),t={...t,...o};const{className:a}=t;return{...t,className:(0,l.Z)(za(r),a)}},Ia=(e,{key:t,type:n,component:o,props:a})=>u=>{const{element:c,children:l}=u;if(c.type===n){const s=null!==o&&void 0!==o?o:i.Qr,f=e.plugins.flatMap((e=>{var t,n;return null!==(t=null===(n=e.inject)||void 0===n?void 0:n.aboveComponent)&&void 0!==t?t:[]})),d=e.plugins.flatMap((e=>{var t,n;return null!==(t=null===(n=e.inject)||void 0===n?void 0:n.belowComponent)&&void 0!==t?t:[]}));u=$a({attributes:c.attributes,nodeProps:u,props:a,type:n});let v=l;d.forEach((e=>{const n=e({...u,key:t});n&&(v=n({...u,children:v}))}));let p=r.createElement(s,u,v);return f.forEach((e=>{const n=e({...u,key:t});n&&(p=n({...u,children:p}))})),p}},Ua=(e,{key:t,type:n=t,component:o,props:i})=>e=>{const{leaf:t,children:a}=e;if(t[n]&&t.text){const u=null!==o&&void 0!==o?o:uo;return e=$a({attributes:t.attributes,props:i,nodeProps:e,type:n}),r.createElement(u,e,a)}return a},Fa=({id:e="main"})=>{const t=Ta(e),n=Da(e).keyPlugins(),o=Da(e).editableProps(),u=Da(e).decorate(),c=Da(e).renderLeaf(),l=Da(e).renderElement(),s=t&&!!n,f=(0,r.useMemo)((()=>{if(s)return Ba(t,null!==u&&void 0!==u?u:null===o||void 0===o?void 0:o.decorate)}),[null===o||void 0===o?void 0:o.decorate,t,s,u]),d=(0,r.useMemo)((()=>{if(s)return((e,t)=>{const n=[];return e.plugins.forEach((t=>{t.isElement&&n.push(Ia(e,t))})),o=>{const a=Ra(e,o);let u;return n.some((e=>(u=e(a),!!u))),u||(t?t(a):r.createElement(i.Qr,a))}})(t,null!==l&&void 0!==l?l:null===o||void 0===o?void 0:o.renderElement)}),[null===o||void 0===o?void 0:o.renderElement,t,s,l]),v=(0,r.useMemo)((()=>{if(s)return((e,t)=>{const n=[];return e.plugins.forEach((e=>{e.isLeaf&&e.key&&n.push(Ua(0,e))})),o=>{const i=Ra(e,o);return n.forEach((e=>{const t=e(i);void 0!==t&&(i.children=t)})),t?t(i):r.createElement(uo,i)}})(t,null!==c&&void 0!==c?c:null===o||void 0===o?void 0:o.renderLeaf)}),[null===o||void 0===o?void 0:o.renderLeaf,t,s,c]),p=(0,a.NY)((()=>{if(!s)return{};const e={decorate:f,renderElement:d,renderLeaf:v};return Na.forEach((n=>{const r=((e,{editableProps:t,handlerKey:n})=>{let r=[];r=e.plugins.flatMap((t=>{var r,o,i;return null!==(r=null===(o=t.handlers)||void 0===o||null===(i=o[n])||void 0===i?void 0:i.call(o,e,t))&&void 0!==r?r:[]}));const o=null===t||void 0===t?void 0:t[n];if(r.length||o)return e=>!!r.some((t=>Ka(e,t)))||Ka(e,o)})(t,{editableProps:o,handlerKey:n});r&&(e[n]=r)})),e}),[f,o,s,d,v]);return(0,a.NY)((()=>({...li(o,[...Na,"renderElement","renderLeaf"]),...p})),[o,p])},Va=({id:e="main",editor:t,initialValue:n,normalizeInitialValue:i,plugins:u,disableCorePlugins:c,editableProps:l,onChange:s,value:f,enabled:d})=>{const v=Ta(e),p=Da(e).enabled(),h=Da(e).plugins(),y=(0,r.useRef)(v),g=(0,r.useRef)(h),b=Aa(e);(0,r.useEffect)((()=>{n&&b.value(n)}),[b]),(({id:e,value:t,enabled:n=!0,onChange:o,editableProps:i,plugins:u,decorate:c,renderElement:l,renderLeaf:s})=>{const f=Aa(e);(0,r.useEffect)((()=>{cr(t)||t&&f.value(t)}),[t,f]),(0,r.useEffect)((()=>{cr(n)||f.enabled(n)}),[n,f]),(0,r.useEffect)((()=>{cr(o)||f.onChange(o)}),[o,f]),(0,a.KW)((()=>{cr(i)||f.editableProps(i)}),[i,f]),(0,r.useEffect)((()=>{cr(c)||f.decorate(c)}),[c,f]),(0,r.useEffect)((()=>{cr(l)||f.renderElement(l)}),[l,f]),(0,r.useEffect)((()=>{cr(s)||f.renderLeaf(s)}),[s,f]),(0,r.useEffect)((()=>{cr(u)||f.plugins(u)}),[u,f])})({editableProps:l,onChange:s,id:e,value:f,enabled:d,plugins:u}),(0,r.useEffect)((()=>{v&&!p&&b.editor(null)}),[p,v,b]),(0,r.useEffect)((()=>{var n;!v&&p&&b.editor(null!==(n=t)&&void 0!==n?n:Oa((0,o.Jh)(),{id:e,plugins:u,disableCorePlugins:c}))}),[t,e,h,v,p,c,b,u]),(0,r.useEffect)((()=>{v&&y.current===v&&g.current!==h&&(_a(v,{plugins:h,disableCorePlugins:c}),g.current=h)}),[h,v,c]),(0,r.useEffect)((()=>{v&&i&&o.ML.normalize(v,{force:!0})}),[v,i]),(0,r.useEffect)((()=>{y.current=v}),[v])},Ha=({id:e}={})=>{const t=Ta(e),n=Da(e).keyPlugins(),o=Da(e).value(),i=Da(e).onChange(),a=(0,r.useCallback)((r=>{if(!t||!n)return;const o=(e=>{const t=e.plugins.flatMap((t=>{var n,r,o;return null!==(n=null===(r=t.handlers)||void 0===r||null===(o=r.onChange)||void 0===o?void 0:o.call(r,e,t))&&void 0!==n?n:[]}));return e=>t.some((t=>{if(!t)return!1;const n=t(e);return null!=n&&n}))})(t)(r);o||null===i||void 0===i||i(r),Aa(e).value(r)}),[i,t,e,n]);return(0,r.useMemo)((()=>({key:null===t||void 0===t?void 0:t.key,editor:t,onChange:a,value:o})),[t,a,o])},Wa=e=>{const{id:t}=e;return Va(e),{slateProps:Ha({id:t}),editableProps:Fa({id:t})}},Ya=()=>(0,i._7)(),qa=({plugin:e})=>{var t;const n=Ya();return null===(t=e.useHooks)||void 0===t||t.call(e,n,e),null},Ga=({id:e})=>{const t=Ya();return Da(e).keyPlugins(),r.createElement(r.Fragment,null,t.plugins.map((e=>r.createElement(qa,{key:e.key,plugin:e}))))},Qa=()=>(0,i.ui)(),Za=(0,r.memo)((({id:e})=>{const t=Qa();return(0,r.useEffect)((()=>{Aa(e).incrementKey("keyEditor")})),(0,r.useEffect)((()=>{Aa(e).incrementKey("keySelection")}),[t.selection,e]),null})),Ja=({children:e,renderEditable:t,...n})=>{const{slateProps:o,editableProps:a}=Wa(n);if(!o.editor)return null;const u=r.createElement(i.CX,a);return r.createElement(i.mH,o,e,r.createElement(Za,{id:n.id}),r.createElement(Ga,{id:n.id}),t?t(u):u)},Xa=e=>{const{id:t="main"}=e,n=Sa.has(t);return(0,r.useEffect)((()=>()=>{La.unset(t)}),[t]),(0,r.useEffect)((()=>{La.set(t)}),[t]),n?r.createElement(Ja,e):null},eu=(e,t)=>{if(!t(e))return;let n=e.firstChild;for(;n;){const r=n,o=n.previousSibling;n=n.nextSibling,eu(r,t),r.previousSibling||r.nextSibling||r.parentNode||!n||o===n.previousSibling||!n.parentNode?r.previousSibling||r.nextSibling||r.parentNode||!n||n.previousSibling||n.nextSibling||n.parentNode||(o?n=o.nextSibling?o.nextSibling.nextSibling:null:e.firstChild&&(n=e.firstChild.nextSibling)):n=o?o.nextSibling:e.firstChild}},tu=(e,t)=>{eu(e,(e=>!sa(e)||t(e)))},nu=(e,t)=>!!((e,t)=>{let n=null;return tu(e,(e=>!t(e)||(n=e,!1))),n})(e,t),ru=e=>(Da(e).keyEditor(),Ta(e));var ou=function(e){return Yo(e,5)};const iu=(e,{components:t,overrideByKey:n}={})=>{let r={};return n&&(r=ou(n)),t&&Object.keys(t).forEach((e=>{r[e]||(r[e]={}),r[e].component=t[e]})),Object.keys(r).length?e.map((e=>Oi(e,r))):e},au=e=>({key:"",type:"",editor:{},inject:{},options:{},...e})}}]);