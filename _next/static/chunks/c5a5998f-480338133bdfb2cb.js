"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{90699:function(e,t,r){r.d(t,{xje:function(){return _o},x4s:function(){return Yr},Un4:function(){return on},MQT:function(){return Ti}});r(67294);var n=r(60406),o=r(92764),i=r(72606),a=r(57645);r(97762);var u=Array.isArray;var c=function(){if(!arguments.length)return[];var e=arguments[0];return u(e)?e:[e]};const l=n.Element.isElement,s=e=>n.Editor.isEditor(e)||l(e);var f=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o};var v=function(){this.__data__=[],this.size=0};var d=function(e,t){return e===t||e!==e&&t!==t};var p=function(e,t){for(var r=e.length;r--;)if(d(e[r][0],t))return r;return-1},y=Array.prototype.splice;var h=function(e){var t=this.__data__,r=p(t,e);return!(r<0)&&(r==t.length-1?t.pop():y.call(t,r,1),--this.size,!0)};var b=function(e){var t=this.__data__,r=p(t,e);return r<0?void 0:t[r][1]};var g=function(e){return p(this.__data__,e)>-1};var j=function(e,t){var r=this.__data__,n=p(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function w(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}w.prototype.clear=v,w.prototype.delete=h,w.prototype.get=b,w.prototype.has=g,w.prototype.set=j;var m=w;var _=function(){this.__data__=new m,this.size=0};var O=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var k=function(e){return this.__data__.get(e)};var x=function(e){return this.__data__.has(e)},E="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{};function A(e,t){return e(t={exports:{}},t.exports),t.exports}var S="object"==typeof E&&E&&E.Object===Object&&E,T="object"==typeof self&&self&&self.Object===Object&&self,P=S||T||Function("return this")(),B=P.Symbol,N=Object.prototype,D=N.hasOwnProperty,z=N.toString,K=B?B.toStringTag:void 0;var C=function(e){var t=D.call(e,K),r=e[K];try{e[K]=void 0;var n=!0}catch(i){}var o=z.call(e);return n&&(t?e[K]=r:delete e[K]),o},M=Object.prototype.toString;var F=function(e){return M.call(e)},I=B?B.toStringTag:void 0;var U=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":I&&I in Object(e)?C(e):F(e)};var H=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var L=function(e){if(!H(e))return!1;var t=U(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},R=P["__core-js_shared__"],V=function(){var e=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var $=function(e){return!!V&&V in e},W=Function.prototype.toString;var q=function(e){if(null!=e){try{return W.call(e)}catch(t){}try{return e+""}catch(t){}}return""},G=/^\[object .+?Constructor\]$/,J=Function.prototype,Q=Object.prototype,X=J.toString,Y=Q.hasOwnProperty,Z=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ee=function(e){return!(!H(e)||$(e))&&(L(e)?Z:G).test(q(e))};var te=function(e,t){return null==e?void 0:e[t]};var re=function(e,t){var r=te(e,t);return ee(r)?r:void 0},ne=re(P,"Map"),oe=re(Object,"create");var ie=function(){this.__data__=oe?oe(null):{},this.size=0};var ae=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ue=Object.prototype.hasOwnProperty;var ce=function(e){var t=this.__data__;if(oe){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ue.call(t,e)?t[e]:void 0},le=Object.prototype.hasOwnProperty;var se=function(e){var t=this.__data__;return oe?void 0!==t[e]:le.call(t,e)};var fe=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=oe&&void 0===t?"__lodash_hash_undefined__":t,this};function ve(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ve.prototype.clear=ie,ve.prototype.delete=ae,ve.prototype.get=ce,ve.prototype.has=se,ve.prototype.set=fe;var de=ve;var pe=function(){this.size=0,this.__data__={hash:new de,map:new(ne||m),string:new de}};var ye=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var he=function(e,t){var r=e.__data__;return ye(t)?r["string"==typeof t?"string":"hash"]:r.map};var be=function(e){var t=he(this,e).delete(e);return this.size-=t?1:0,t};var ge=function(e){return he(this,e).get(e)};var je=function(e){return he(this,e).has(e)};var we=function(e,t){var r=he(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}me.prototype.clear=pe,me.prototype.delete=be,me.prototype.get=ge,me.prototype.has=je,me.prototype.set=we;var _e=me;var Oe=function(e,t){var r=this.__data__;if(r instanceof m){var n=r.__data__;if(!ne||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new _e(n)}return r.set(e,t),this.size=r.size,this};function ke(e){var t=this.__data__=new m(e);this.size=t.size}ke.prototype.clear=_,ke.prototype.delete=O,ke.prototype.get=k,ke.prototype.has=x,ke.prototype.set=Oe;var xe=ke;var Ee=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Ae=function(e){return this.__data__.has(e)};function Se(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new _e;++t<r;)this.add(e[t])}Se.prototype.add=Se.prototype.push=Ee,Se.prototype.has=Ae;var Te=Se;var Pe=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var Be=function(e,t){return e.has(t)};var Ne=function(e,t,r,n,o,i){var a=1&r,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=i.get(e),s=i.get(t);if(l&&s)return l==t&&s==e;var f=-1,v=!0,d=2&r?new Te:void 0;for(i.set(e,t),i.set(t,e);++f<u;){var p=e[f],y=t[f];if(n)var h=a?n(y,p,f,t,e,i):n(p,y,f,e,t,i);if(void 0!==h){if(h)continue;v=!1;break}if(d){if(!Pe(t,(function(e,t){if(!Be(d,t)&&(p===e||o(p,e,r,n,i)))return d.push(t)}))){v=!1;break}}else if(p!==y&&!o(p,y,r,n,i)){v=!1;break}}return i.delete(e),i.delete(t),v},De=P.Uint8Array;var ze=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var Ke=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Ce=B?B.prototype:void 0,Me=Ce?Ce.valueOf:void 0;var Fe=function(e,t,r,n,o,i,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new De(e),new De(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return d(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=ze;case"[object Set]":var c=1&n;if(u||(u=Ke),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;n|=2,a.set(e,t);var s=Ne(u(e),u(t),n,o,i,a);return a.delete(e),s;case"[object Symbol]":if(Me)return Me.call(e)==Me.call(t)}return!1};var Ie=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e};var Ue=function(e,t,r){var n=t(e);return u(e)?n:Ie(n,r(e))};var He=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i};var Le=function(){return[]},Re=Object.prototype.propertyIsEnumerable,Ve=Object.getOwnPropertySymbols,$e=Ve?function(e){return null==e?[]:(e=Object(e),He(Ve(e),(function(t){return Re.call(e,t)})))}:Le;var We=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var qe=function(e){return null!=e&&"object"==typeof e};var Ge=function(e){return qe(e)&&"[object Arguments]"==U(e)},Je=Object.prototype,Qe=Je.hasOwnProperty,Xe=Je.propertyIsEnumerable,Ye=Ge(function(){return arguments}())?Ge:function(e){return qe(e)&&Qe.call(e,"callee")&&!Xe.call(e,"callee")},Ze=Ye;var et=function(){return!1},tt=A((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?P.Buffer:void 0,i=(o?o.isBuffer:void 0)||et;e.exports=i})),rt=/^(?:0|[1-9]\d*)$/;var nt=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&rt.test(e))&&e>-1&&e%1==0&&e<t};var ot=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},it={};it["[object Float32Array]"]=it["[object Float64Array]"]=it["[object Int8Array]"]=it["[object Int16Array]"]=it["[object Int32Array]"]=it["[object Uint8Array]"]=it["[object Uint8ClampedArray]"]=it["[object Uint16Array]"]=it["[object Uint32Array]"]=!0,it["[object Arguments]"]=it["[object Array]"]=it["[object ArrayBuffer]"]=it["[object Boolean]"]=it["[object DataView]"]=it["[object Date]"]=it["[object Error]"]=it["[object Function]"]=it["[object Map]"]=it["[object Number]"]=it["[object Object]"]=it["[object RegExp]"]=it["[object Set]"]=it["[object String]"]=it["[object WeakMap]"]=!1;var at=function(e){return qe(e)&&ot(e.length)&&!!it[U(e)]};var ut=function(e){return function(t){return e(t)}},ct=A((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r&&S.process,i=function(){try{var e=n&&n.require&&n.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i})),lt=ct&&ct.isTypedArray,st=lt?ut(lt):at,ft=Object.prototype.hasOwnProperty;var vt=function(e,t){var r=u(e),n=!r&&Ze(e),o=!r&&!n&&tt(e),i=!r&&!n&&!o&&st(e),a=r||n||o||i,c=a?We(e.length,String):[],l=c.length;for(var s in e)!t&&!ft.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||nt(s,l))||c.push(s);return c},dt=Object.prototype;var pt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||dt)};var yt=function(e,t){return function(r){return e(t(r))}},ht=yt(Object.keys,Object),bt=Object.prototype.hasOwnProperty;var gt=function(e){if(!pt(e))return ht(e);var t=[];for(var r in Object(e))bt.call(e,r)&&"constructor"!=r&&t.push(r);return t};var jt=function(e){return null!=e&&ot(e.length)&&!L(e)};var wt=function(e){return jt(e)?vt(e):gt(e)};var mt=function(e){return Ue(e,wt,$e)},_t=Object.prototype.hasOwnProperty;var Ot=function(e,t,r,n,o,i){var a=1&r,u=mt(e),c=u.length;if(c!=mt(t).length&&!a)return!1;for(var l=c;l--;){var s=u[l];if(!(a?s in t:_t.call(t,s)))return!1}var f=i.get(e),v=i.get(t);if(f&&v)return f==t&&v==e;var d=!0;i.set(e,t),i.set(t,e);for(var p=a;++l<c;){var y=e[s=u[l]],h=t[s];if(n)var b=a?n(h,y,s,t,e,i):n(y,h,s,e,t,i);if(!(void 0===b?y===h||o(y,h,r,n,i):b)){d=!1;break}p||(p="constructor"==s)}if(d&&!p){var g=e.constructor,j=t.constructor;g==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof j&&j instanceof j||(d=!1)}return i.delete(e),i.delete(t),d},kt=re(P,"DataView"),xt=re(P,"Promise"),Et=re(P,"Set"),At=re(P,"WeakMap"),St="[object Map]",Tt="[object Promise]",Pt="[object Set]",Bt="[object WeakMap]",Nt="[object DataView]",Dt=q(kt),zt=q(ne),Kt=q(xt),Ct=q(Et),Mt=q(At),Ft=U;(kt&&Ft(new kt(new ArrayBuffer(1)))!=Nt||ne&&Ft(new ne)!=St||xt&&Ft(xt.resolve())!=Tt||Et&&Ft(new Et)!=Pt||At&&Ft(new At)!=Bt)&&(Ft=function(e){var t=U(e),r="[object Object]"==t?e.constructor:void 0,n=r?q(r):"";if(n)switch(n){case Dt:return Nt;case zt:return St;case Kt:return Tt;case Ct:return Pt;case Mt:return Bt}return t});var It=Ft,Ut="[object Arguments]",Ht="[object Array]",Lt="[object Object]",Rt=Object.prototype.hasOwnProperty;var Vt=function(e,t,r,n,o,i){var a=u(e),c=u(t),l=a?Ht:It(e),s=c?Ht:It(t),f=(l=l==Ut?Lt:l)==Lt,v=(s=s==Ut?Lt:s)==Lt,d=l==s;if(d&&tt(e)){if(!tt(t))return!1;a=!0,f=!1}if(d&&!f)return i||(i=new xe),a||st(e)?Ne(e,t,r,n,o,i):Fe(e,t,l,r,n,o,i);if(!(1&r)){var p=f&&Rt.call(e,"__wrapped__"),y=v&&Rt.call(t,"__wrapped__");if(p||y){var h=p?e.value():e,b=y?t.value():t;return i||(i=new xe),o(h,b,r,n,i)}}return!!d&&(i||(i=new xe),Ot(e,t,r,n,o,i))};var $t=function e(t,r,n,o,i){return t===r||(null==t||null==r||!qe(t)&&!qe(r)?t!==t&&r!==r:Vt(t,r,n,o,e,i))};var Wt=function(e,t,r,n){var o=r.length,i=o,a=!n;if(null==e)return!i;for(e=Object(e);o--;){var u=r[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){var c=(u=r[o])[0],l=e[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in e))return!1}else{var f=new xe;if(n)var v=n(l,s,c,e,t,f);if(!(void 0===v?$t(s,l,3,n,f):v))return!1}}return!0};var qt=function(e){return e===e&&!H(e)};var Gt=function(e){for(var t=wt(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,qt(o)]}return t};var Jt=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}};var Qt=function(e){var t=Gt(e);return 1==t.length&&t[0][2]?Jt(t[0][0],t[0][1]):function(r){return r===e||Wt(r,e,t)}};var Xt=function(e){return"symbol"==typeof e||qe(e)&&"[object Symbol]"==U(e)},Yt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zt=/^\w*$/;var er=function(e,t){if(u(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Xt(e))||(Zt.test(e)||!Yt.test(e)||null!=t&&e in Object(t))};function tr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(tr.Cache||_e),r}tr.Cache=_e;var rr=tr;var nr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,or=/\\(\\)?/g,ir=function(e){var t=rr(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(nr,(function(e,r,n,o){t.push(n?o.replace(or,"$1"):r||e)})),t})),ar=ir,ur=B?B.prototype:void 0,cr=ur?ur.toString:void 0;var lr=function e(t){if("string"==typeof t)return t;if(u(t))return f(t,e)+"";if(Xt(t))return cr?cr.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};var sr=function(e){return null==e?"":lr(e)};var fr=function(e,t){return u(e)?e:er(e,t)?[e]:ar(sr(e))};var vr=function(e){if("string"==typeof e||Xt(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var dr=function(e,t){for(var r=0,n=(t=fr(t,e)).length;null!=e&&r<n;)e=e[vr(t[r++])];return r&&r==n?e:void 0};var pr=function(e,t,r){var n=null==e?void 0:dr(e,t);return void 0===n?r:n};var yr=function(e,t){return null!=e&&t in Object(e)};var hr=function(e,t,r){for(var n=-1,o=(t=fr(t,e)).length,i=!1;++n<o;){var a=vr(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&ot(o)&&nt(a,o)&&(u(e)||Ze(e))};var br=function(e,t){return null!=e&&hr(e,t,yr)};var gr=function(e,t){return er(e)&&qt(t)?Jt(vr(e),t):function(r){var n=pr(r,e);return void 0===n&&n===t?br(r,e):$t(t,n,3)}};var jr=function(e){return e};var wr=function(e){return function(t){return null==t?void 0:t[e]}};var mr=function(e){return function(t){return dr(t,e)}};var _r=function(e){return er(e)?wr(vr(e)):mr(e)};var Or=function(e){return"function"==typeof e?e:null==e?jr:"object"==typeof e?u(e)?gr(e[0],e[1]):Qt(e):_r(e)};var kr=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),u=a.length;u--;){var c=a[e?u:++o];if(!1===r(i[c],c,i))break}return t}}();var xr=function(e,t){return function(r,n){if(null==r)return r;if(!jt(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}}((function(e,t){return e&&kr(e,t,wt)}));const Er=(e,{filter:t,allow:r,exclude:n}={})=>{if(!e)return!1;if(t&&!t(e))return!1;if(r){const t=c(r);if(t.length&&!t.includes(e[0].type))return!1}if(n){const t=c(n);if(t.length&&t.includes(e[0].type))return!1}return!0};n.Text.isText;function Ar(e){return"undefined"===typeof e}function Sr(e){return!(Ar(t=e)||function(e){return null===e}(t));var t}const Tr=(e,t)=>Sr(((e,t)=>{var r;if(e)return null===(r=n.Editor.marks(e))||void 0===r?void 0:r[t]})(e,t)),Pr=(e,t)=>{var r;return null!==(r=(e=>null!==e&&void 0!==e&&e.pluginsByKey?e.pluginsByKey:{})(e)[t])&&void 0!==r?r:{key:t}},Br=(e,t)=>{var r,n;return null!==(r=null!==(n=Pr(e,t).type)&&void 0!==n?n:t)&&void 0!==r?r:""};var Nr=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},Dr=Math.max;var zr=function(e,t,r){return t=Dr(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=Dr(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=n[o];return u[t]=r(a),Nr(e,this,u)}};var Kr=function(e){return function(){return e}},Cr=function(){try{var e=re(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Mr=Cr?function(e,t){return Cr(e,"toString",{configurable:!0,enumerable:!1,value:Kr(t),writable:!0})}:jr,Fr=Date.now;var Ir=function(e){var t=0,r=0;return function(){var n=Fr(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Ur=Ir(Mr);var Hr=function(e,t){return Ur(zr(e,t,jr),e+"")};var Lr=function(e,t,r){if(!H(r))return!1;var n=typeof t;return!!("number"==n?jt(r)&&nt(t,r.length):"string"==n&&t in r)&&d(r[t],e)};var Rr=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},Vr=Object.prototype.hasOwnProperty;var $r=function(e){if(!H(e))return Rr(e);var t=pt(e),r=[];for(var n in e)("constructor"!=n||!t&&Vr.call(e,n))&&r.push(n);return r};var Wr=function(e){return jt(e)?vt(e,!0):$r(e)},qr=Object.prototype,Gr=qr.hasOwnProperty;Hr((function(e,t){e=Object(e);var r=-1,n=t.length,o=n>2?t[2]:void 0;for(o&&Lr(t[0],t[1],o)&&(n=1);++r<n;)for(var i=t[r],a=Wr(i),u=-1,c=a.length;++u<c;){var l=a[u],s=e[l];(void 0===s||d(s,qr[l])&&!Gr.call(e,l))&&(e[l]=i[l])}return e}));const Jr=({node:e,source:t,apply:r,query:n})=>{Er([e,[]],n)&&r(e,t instanceof Function?t():t),s(e)&&e.children.forEach((e=>{Jr({node:e,source:t,apply:r,query:n})}))},Qr=(e,{key:t,at:r,shouldChange:o=!0,...i})=>{const a=null!==r&&void 0!==r?r:e.selection;if(t=c(t),a)if(n.Range.isRange(a)&&n.Range.isExpanded(a))n.Transforms.unsetNodes(e,t,{at:a,match:n.Text.isText,split:!0,...i});else if(e.selection){const r={...n.Editor.marks(e)||{}};t.forEach((e=>{delete r[e]})),e.marks=r,o&&e.onChange()}},Xr="p",Yr=(e,t)=>e&&e.nodeName!==t?Yr(e.parentElement,t):e,Zr=(e,t,r)=>(e=((e,t,r)=>{const n=((e,t)=>e.some(((e,r,n)=>{const o=n[r-1];return 0!==r&&t(e)!==t(o)})))(e,t),{fragment:o}=e.reduce(((e,o)=>{if(n&&t(o)){let t=e.precedingBlock;t||(t=r(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(o)}else e.fragment.push(o),e.precedingBlock=null;return e}),{fragment:[],precedingBlock:null});return o})(e=(e=>e.length?e:[{text:""}])(e),t,r),e=e.map((e=>l(e)?{...e,children:Zr(e.children,t,r)}:e))),en=(e,{descendants:t})=>{const r=(e=>t=>n.Text.isText(t)||e.isInline(t))(e),o=Br(e,Xr),i=(a=o,()=>({type:a,children:[]}));var a;return Zr(t,r,i)};var tn,rn=A((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)i["f"+a]=111+a;function u(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return c(e,t)})),o=function(e){return n.some((function(t){return l(t,e)}))};return null==r?o:o(r)}function c(e,t){var r=t&&t.byKey,o={},i=(e=e.replace("++","+add")).split("+"),a=i.length;for(var u in n)o[n[u]]=!1;var c=!0,l=!1,v=void 0;try{for(var d,p=i[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var y=d.value,h=y.endsWith("?")&&y.length>1;h&&(y=y.slice(0,-1));var b=f(y),g=n[b];1!==a&&g||(r?o.key=b:o.which=s(y)),g&&(o[g]=!h||null)}}catch(j){l=!0,v=j}finally{try{!c&&p.return&&p.return()}finally{if(l)throw v}}return o}function l(e,t){for(var r in e){var n=e[r],o=void 0;if(null!=n&&((null!=(o="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&o!==n))return!1}return!0}function s(e){return e=f(e),i[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=o[e]||e}t.default=u,t.isHotkey=u,t.isCodeHotkey=function(e,t){return u(e,t)},t.isKeyHotkey=function(e,t){return u(e,{byKey:!0},t)},t.parseHotkey=c,t.compareHotkey=l,t.toKeyCode=s,t.toKeyName=f})),nn=(tn=rn)&&tn.__esModule&&Object.prototype.hasOwnProperty.call(tn,"default")?tn.default:tn;rn.isHotkey,rn.isCodeHotkey,rn.isKeyHotkey,rn.parseHotkey,rn.compareHotkey,rn.toKeyCode,rn.toKeyName;const on=(e,{type:t,options:{hotkey:r,clear:o}})=>i=>{r&&nn(r,i)&&(i.preventDefault(),((e,{key:t,clear:r})=>{e.selection&&n.Editor.withoutNormalizing(e,(()=>{if(Tr(e,t))return void Qr(e,{key:t});const n=c(r);Qr(e,{key:n}),e.addMark(t,!0)}))})(e,{key:t,clear:o}))};var an=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e};var un=function(e,t,r){"__proto__"==t&&Cr?Cr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},cn=Object.prototype.hasOwnProperty;var ln=function(e,t,r){var n=e[t];cn.call(e,t)&&d(n,r)&&(void 0!==r||t in e)||un(e,t,r)};var sn=function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var u=t[i],c=n?n(r[u],e[u],u,r,e):void 0;void 0===c&&(c=e[u]),o?un(r,u,c):ln(r,u,c)}return r};var fn=function(e,t){return e&&sn(t,wt(t),e)};var vn=function(e,t){return e&&sn(t,Wr(t),e)},dn=A((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?P.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=i?i(r):new e.constructor(r);return e.copy(n),n}}));var pn=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t};var yn=function(e,t){return sn(e,$e(e),t)},hn=yt(Object.getPrototypeOf,Object),bn=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ie(t,$e(e)),e=hn(e);return t}:Le;var gn=function(e,t){return sn(e,bn(e),t)};var jn=function(e){return Ue(e,Wr,bn)},wn=Object.prototype.hasOwnProperty;var mn=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&wn.call(e,"index")&&(r.index=e.index,r.input=e.input),r};var _n=function(e){var t=new e.constructor(e.byteLength);return new De(t).set(new De(e)),t};var On=function(e,t){var r=t?_n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},kn=/\w*$/;var xn=function(e){var t=new e.constructor(e.source,kn.exec(e));return t.lastIndex=e.lastIndex,t},En=B?B.prototype:void 0,An=En?En.valueOf:void 0;var Sn=function(e){return An?Object(An.call(e)):{}};var Tn=function(e,t){var r=t?_n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var Pn=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return _n(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return On(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Tn(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return xn(e);case"[object Symbol]":return Sn(e)}},Bn=Object.create,Nn=function(){function e(){}return function(t){if(!H(t))return{};if(Bn)return Bn(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();var Dn=function(e){return"function"!=typeof e.constructor||pt(e)?{}:Nn(hn(e))};var zn=function(e){return qe(e)&&"[object Map]"==It(e)},Kn=ct&&ct.isMap,Cn=Kn?ut(Kn):zn;var Mn=function(e){return qe(e)&&"[object Set]"==It(e)},Fn=ct&&ct.isSet,In=Fn?ut(Fn):Mn,Un="[object Arguments]",Hn="[object Function]",Ln="[object Object]",Rn={};Rn[Un]=Rn["[object Array]"]=Rn["[object ArrayBuffer]"]=Rn["[object DataView]"]=Rn["[object Boolean]"]=Rn["[object Date]"]=Rn["[object Float32Array]"]=Rn["[object Float64Array]"]=Rn["[object Int8Array]"]=Rn["[object Int16Array]"]=Rn["[object Int32Array]"]=Rn["[object Map]"]=Rn["[object Number]"]=Rn[Ln]=Rn["[object RegExp]"]=Rn["[object Set]"]=Rn["[object String]"]=Rn["[object Symbol]"]=Rn["[object Uint8Array]"]=Rn["[object Uint8ClampedArray]"]=Rn["[object Uint16Array]"]=Rn["[object Uint32Array]"]=!0,Rn["[object Error]"]=Rn[Hn]=Rn["[object WeakMap]"]=!1;var Vn=function e(t,r,n,o,i,a){var c,l=1&r,s=2&r,f=4&r;if(n&&(c=i?n(t,o,i,a):n(t)),void 0!==c)return c;if(!H(t))return t;var v=u(t);if(v){if(c=mn(t),!l)return pn(t,c)}else{var d=It(t),p=d==Hn||"[object GeneratorFunction]"==d;if(tt(t))return dn(t,l);if(d==Ln||d==Un||p&&!i){if(c=s||p?{}:Dn(t),!l)return s?gn(t,vn(c,t)):yn(t,fn(c,t))}else{if(!Rn[d])return i?t:{};c=Pn(t,d,l)}}a||(a=new xe);var y=a.get(t);if(y)return y;a.set(t,c),In(t)?t.forEach((function(o){c.add(e(o,r,n,o,t,a))})):Cn(t)&&t.forEach((function(o,i){c.set(i,e(o,r,n,i,t,a))}));var h=v?void 0:(f?s?jn:mt:s?Wr:wt)(t);return an(h||t,(function(o,i){h&&(o=t[i=o]),ln(c,i,e(o,r,n,i,t,a))})),c};var $n=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Wn=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i};var qn=function(e,t){return t.length<2?e:dr(e,Wn(t,0,-1))};var Gn=function(e,t){return t=fr(t,e),null==(e=qn(e,t))||delete e[vr($n(t))]},Jn=Function.prototype,Qn=Object.prototype,Xn=Jn.toString,Yn=Qn.hasOwnProperty,Zn=Xn.call(Object);var eo=function(e){if(!qe(e)||"[object Object]"!=U(e))return!1;var t=hn(e);if(null===t)return!0;var r=Yn.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Xn.call(r)==Zn};var to=function(e){return eo(e)?void 0:e},ro=B?B.isConcatSpreadable:void 0;var no=function(e){return u(e)||Ze(e)||!!(ro&&e&&e[ro])};var oo=function e(t,r,n,o,i){var a=-1,u=t.length;for(n||(n=no),i||(i=[]);++a<u;){var c=t[a];r>0&&n(c)?r>1?e(c,r-1,n,o,i):Ie(i,c):o||(i[i.length]=c)}return i};var io=function(e){return(null==e?0:e.length)?oo(e,1):[]};ao=function(e,t){var r={};if(null==e)return r;var n=!1;t=f(t,(function(t){return t=fr(t,e),n||(n=t.length>1),t})),sn(e,jn(e),r),n&&(r=Vn(r,7,to));for(var o=t.length;o--;)Gn(r,t[o]);return r},Ur(zr(ao,void 0,io),ao+"");var ao;const uo=(0,i.MT)("event-editor")({blur:null,focus:null,last:null}),co=uo.set,lo=uo.get;uo.use;var so=function(e,t,r){(void 0!==r&&!d(e[t],r)||void 0===r&&!(t in e))&&un(e,t,r)};var fo=function(e){return qe(e)&&jt(e)};var vo=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};var po=function(e){return sn(e,Wr(e))};var yo=function(e,t,r,n,o,i,a){var c=vo(e,r),l=vo(t,r),s=a.get(l);if(s)so(e,r,s);else{var f=i?i(c,l,r+"",e,t,a):void 0,v=void 0===f;if(v){var d=u(l),p=!d&&tt(l),y=!d&&!p&&st(l);f=l,d||p||y?u(c)?f=c:fo(c)?f=pn(c):p?(v=!1,f=dn(l,!0)):y?(v=!1,f=Tn(l,!0)):f=[]:eo(l)||Ze(l)?(f=c,Ze(c)?f=po(c):H(c)&&!L(c)||(f=Dn(l))):v=!1}v&&(a.set(l,f),o(f,l,n,i,a),a.delete(l)),so(e,r,f)}};var ho=function e(t,r,n,o,i){t!==r&&kr(r,(function(a,u){if(i||(i=new xe),H(a))yo(t,r,u,n,e,o,i);else{var c=o?o(vo(t,u),a,u+"",t,r,i):void 0;void 0===c&&(c=a),so(t,u,c)}}),Wr)};var bo=function e(t,r,n,o,i,a){return H(t)&&H(r)&&(a.set(r,t),ho(t,r,void 0,e,a),a.delete(r)),t};var go=function(e){return Hr((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Lr(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var u=r[n];u&&e(t,u,n,i)}return t}))},jo=go((function(e,t,r,n){ho(e,t,r,n)})),wo=Hr((function(e){return e.push(void 0,bo),Nr(jo,void 0,e)}));const mo=(e,t={},r)=>{var n;if(t[e.key]){const{plugins:n,then:o,...i}=t[e.key];e=wo(i,e),r||null===n||void 0===n||n.forEach((t=>{e.plugins||(e.plugins=[]);e.plugins.find((e=>e.key===t.key))||e.plugins.push(t)}))}e.plugins&&(e.plugins=e.plugins.map((e=>mo(e,t,!0))));const{then:o}=e;return o?e.then=(r,n)=>{const i={key:e.key,...o(r,n)};return wo(mo(i,t),i)}:null!==(n=t[e.key])&&void 0!==n&&n.then&&(e.then=t[e.key].then),e},_o=e=>(t,r={})=>(r[e.key]=t,mo({...e},r)),Oo="deserializeAst",ko=_o({key:Oo,editor:{insertData:{format:"application/x-slate-fragment",getFragment:({data:e})=>{const t=decodeURIComponent(window.atob(e));return JSON.parse(t)}}}}),xo="event-editor",Eo=_o({key:xo,handlers:{onFocus:e=>()=>{var t;null===(t=co.focus)||void 0===t||t.call(co,e.id)},onBlur:e=>()=>{var t;null===(t=co.blur)||void 0===t||t.call(co,e.id)}}}),Ao=_o({key:"history",withOverrides:a.VC}),So="inline-void",To=_o({key:So,withOverrides:e=>{const{isInline:t}=e,{isVoid:r}=e,n=[],o=[];return e.plugins.forEach((e=>{e.isInline&&n.push(e.type),e.isVoid&&o.push(e.type)})),e.isInline=e=>!!n.includes(e.type)||t(e),e.isVoid=e=>!!o.includes(e.type)||r(e),e}}),Po=(e,t)=>{const r=[];return[...e.plugins].reverse().forEach((e=>{var n;const o=null===(n=e.inject.pluginsByKey)||void 0===n?void 0:n[t.key];o&&r.push(o)})),[t,...r]},Bo="insertData",No=_o({key:Bo,withOverrides:e=>{const{insertData:t}=e;return e.insertData=r=>{const o=[...e.plugins].reverse().some((t=>{var o;const i=t.editor.insertData;if(!i)return!1;const a=Po(e,t),{format:u,getFragment:c}=i;if(!u)return!1;let l=r.getData(u);if(!l)return;if(!((e,{data:t,dataTransfer:r})=>e.every((e=>{var n,o;const i=null===(n=e.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.query;return!i||i({data:t,dataTransfer:r})})))(a,{data:l,dataTransfer:r}))return!1;l=((e,{data:t,dataTransfer:r})=>(e.forEach((e=>{var n,o;const i=null===(n=e.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.transformData;i&&(t=i(t,{dataTransfer:r}))})),t))(a,{data:l,dataTransfer:r});let s=null===c||void 0===c?void 0:c({data:l,dataTransfer:r});return!(null===(o=s)||void 0===o||!o.length)&&(s=((e,{fragment:t,...r})=>(e.forEach((e=>{var n,o;const i=null===(n=e.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.transformFragment;i&&(t=i(t,r))})),t))(a,{fragment:s,data:l,dataTransfer:r}),!!s.length&&(((e,t,{fragment:r,...o})=>{n.Editor.withoutNormalizing(e,(()=>{t.some((e=>{var t,n,i;return!0===(null===(t=e.editor)||void 0===t||null===(n=t.insertData)||void 0===n||null===(i=n.preInsert)||void 0===i?void 0:i.call(n,r,o))})),e.insertFragment(r)}))})(e,a,{fragment:s,data:l,dataTransfer:r}),!0))}));o||t(r)},e}}),Do=_o({key:"react",withOverrides:o.withReact});function zo(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ko(e){var t,r;return!1!==zo(e)&&(void 0===(t=e.constructor)||!1!==zo(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}function Co(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mo=new WeakMap,Fo=new WeakMap;class Io{}class Uo extends Io{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}}class Ho extends Io{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}}var Lo=e=>Fo.get(e);function Ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(r),!0).forEach((function(t){Co(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ro(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $o=new WeakSet,Wo=e=>{var t=[],r=e=>{if(null!=e){var o=t[t.length-1];if("string"===typeof e){var i={text:e};$o.add(i),e=i}if(n.Text.isText(e)){var a=e;n.Text.isText(o)&&$o.has(o)&&$o.has(a)&&n.Text.equals(o,a,{loose:!0})?o.text+=a.text:t.push(a)}else if(n.Element.isElement(e))t.push(e);else{if(!(e instanceof Io))throw new Error("Unexpected hyperscript child object: ".concat(e));var u=t[t.length-1];n.Text.isText(u)||(r(""),u=t[t.length-1]),e instanceof Uo?((e,t)=>{var r=e.text.length;Mo.set(e,[r,t])})(u,e):e instanceof Ho&&((e,t)=>{var r=e.text.length;Fo.set(e,[r,t])})(u,e)}}};for(var o of e.flat(1/0))r(o);return t};function qo(e,t,r){return Vo(Vo({},t),{},{children:Wo(r)})}function Go(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(r),!0).forEach((function(t){Co(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Go(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qo,Xo={anchor:function(e,t,r){return new Uo(t)},cursor:function(e,t,r){return[new Uo(t),new Ho(t)]},editor:(Qo=n.createEditor,(e,t,r)=>{var o,i=[];for(var a of r)n.Range.isRange(a)?o=a:i.push(a);var u,c=Wo(i),l={},s=Qo();for(var[f,v]of(Object.assign(s,t),s.children=c,n.Node.texts(s))){var d=(u=f,Mo.get(u)),p=Lo(f);if(null!=d){var[y]=d;l.anchor={path:v,offset:y}}if(null!=p){var[h]=p;l.focus={path:v,offset:h}}}if(l.anchor&&!l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!l.anchor&&l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=o?s.selection=o:n.Range.isRange(l)&&(s.selection=l),s}),element:qo,focus:function(e,t,r){return new Ho(t)},fragment:function(e,t,r){return Wo(r)},selection:function(e,t,r){var n=r.find((e=>e instanceof Uo)),o=r.find((e=>e instanceof Ho));if(!n||null==n.offset||null==n.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return Vo({anchor:{offset:n.offset,path:n.path},focus:{offset:o.offset,path:o.path}},t)},text:function(e,t,r){var o=Wo(r);if(o.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[i]=o;if(null==i&&(i={text:""}),!n.Text.isText(i))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return $o.delete(i),Object.assign(i,t),i}},Yo=e=>function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var a=e[t];if(!a)throw new Error("No hyperscript creator found for tag: <".concat(t,">"));null==r&&(r={}),Ko(r)||(o=[r].concat(o),r={});var u=a(t,r,o=o.filter((e=>Boolean(e))).flat());return u},Zo=e=>{var t={},r=function(r){var n=e[r];if("object"!==typeof n)throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(n));t[r]=(e,t,r)=>qo(0,Jo(Jo({},n),t),r)};for(var n in e)r(n);return t},ei=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,r=Zo(t),n=Jo(Jo(Jo({},Xo),r),e.creators),o=Yo(n);return o}();const ti=(e,t)=>Array.from(t.childNodes).map(ci(e)).flat(),ri=(e,t,{element:r,deserializeLeaf:n})=>{var o;const{deserializeHtml:i,isElement:a,isLeaf:u,type:l}=t;if(!i)return;const{attributeNames:s,query:f,isLeaf:v,isElement:d,rules:p}=i;let{getNode:y}=i;const h=d||a,b=v||u;if(!n&&!h)return;if(n&&!b)return;if(p){if(!p.some((({validNodeName:e="*",validStyle:n,validClassName:o,validAttribute:i})=>{if(e){const t=c(e);if(t.length&&!t.includes(r.nodeName)&&"*"!==e)return!1}if(o&&!r.className.includes(o))return!1;if(n)for(const[u,l]of Object.entries(n)){var a;if(!c(l).includes(r.style[u])&&"*"!==l)return;if("*"===l&&!r.style[u])return;const e=null===(a=t.inject.props)||void 0===a?void 0:a.defaultNodeValue;if(e&&e===r.style[u])return!1}if(i)if("string"===typeof i){if(!r.getAttributeNames().includes(i))return!1}else for(const[t,u]of Object.entries(i)){const e=c(u),n=r.getAttribute(t);if(!n||!e.includes(n))return!1}return!0})))return}if(f&&!f(r))return;if(!y)if(h)y=()=>({type:l});else{if(!b)return;y=()=>({[l]:!0})}let g=null!==(o=y(r,{}))&&void 0!==o?o:{};if(!Object.keys(g).length)return;if(Po(e,t).forEach((e=>{var t,n;const o=null===(t=e.deserializeHtml)||void 0===t||null===(n=t.getNode)||void 0===n?void 0:n.call(t,r,g);o&&(g={...g,...o})})),s){const e={},t=r.getAttributeNames();for(const n of t)s.includes(n)&&(e[n]=r.getAttribute(n));Object.keys(e).length&&(g.attributes=e)}return{...i,node:g}},ni=(e,t)=>{const r=((e,t)=>{let r;return[...e.plugins].reverse().some((n=>(r=ri(e,n,{element:t}),!!r))),r})(e,t);if(r){var n;const{node:o,withoutChildren:i}=r;let a=null!==(n=o.children)&&void 0!==n?n:ti(e,t);return a.length&&!i||(a=[{text:""}]),ei("element",o,a)}};var oi=go((function(e,t,r){ho(e,t,r)}));const ii=(e,t)=>{const r=((e,t)=>{let r={};return[...e.plugins].reverse().forEach((n=>{const o=ri(e,n,{element:t,deserializeLeaf:!0});o&&(r={...r,...o.node})})),r})(e,t);return ti(e,t).reduce(((e,t)=>{if(!t)return e;if(l(t))Object.keys(r).length&&(o={node:t,source:r,query:{filter:([e])=>n.Text.isText(e)}},Jr({...o,apply:oi})),e.push(t);else{const n={...r};t.text&&Object.keys(n).forEach((e=>{n[e]&&t[e]&&(n[e]=t[e])})),e.push(ei("text",n,t))}var o;return e}),[])},ai=e=>e.nodeType===Node.TEXT_NODE,ui=e=>e.nodeType===Node.ELEMENT_NODE,ci=e=>t=>{const r=(e=>{if(ai(e))return"\n"===e.nodeValue?null:e.textContent})(t);if(r)return r;if(!ui(t))return null;const n=(e=>{if("BR"===e.nodeName)return"\n"})(t);if(n)return n;const o=((e,t)=>{if("BODY"===t.nodeName)return ei("fragment",{},ti(e,t))})(e,t);if(o)return o;const i=ni(e,t);return i||ii(e,t)},li=(e,{element:t,stripWhitespace:r=!0})=>{"string"===typeof t&&(t=((e,t=!0)=>{const r=document.createElement("body");return r.innerHTML=e,t&&(r.innerHTML=r.innerHTML.replace(/(\r\n|\n|\r|\t)/gm,"")),r})(t,r));const n=((e,t)=>ci(e)(t))(e,t);return en(e,{descendants:n})},si=e=>(new DOMParser).parseFromString(e,"text/html"),fi="deserializeHtml",vi=_o({key:fi,then:e=>({editor:{insertData:{format:"text/html",getFragment:({data:t})=>{const r=si(t);return li(e,{element:r.body})}}}})});var di=function(e,t,r,n){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(n,a,r(a),e)}return n};var pi=function(e,t,r,n){return xr(e,(function(e,o,i){t(n,e,r(e),i)})),n};var yi=function(e,t){return function(r,n){var o=u(r)?di:pi,i=t?t():{};return o(r,e,Or(n),i)}}((function(e,t,r){un(e,r,t)}));var hi=function(e,t){return f(t,(function(t){return e[t]}))};var bi=function(e){return null==e?[]:hi(e,wt(e))};const gi=(e,t)=>{const r={...t},{then:n}=r;if(n){delete r.then;const{plugins:t}=r,o=gi(e,wo(n(e,r),r));if(t&&o.plugins){const e=oi(yi(t,"key"),yi(o.plugins,"key"));o.plugins=bi(e)}return o}return r},ji=(e,t)=>{t&&t.forEach((t=>{let r=(e=>(void 0===e.type&&(e.type=e.key),e.options||(e.options={}),e.inject||(e.inject={}),e.editor||(e.editor={}),e))(t);if(r=gi(e,r),e.pluginsByKey[r.key]){const t=e.plugins.indexOf(e.pluginsByKey[r.key]),n=wo(r,e.pluginsByKey[r.key]);t>=0&&(e.plugins[t]=n),e.pluginsByKey[r.key]=n}else e.plugins.push(r),e.pluginsByKey[r.key]=r;ji(e,r.plugins)}))},wi=(e,{disableCorePlugins:t,plugins:r=[]})=>{let n=[];if(!0!==t){const r=t;var o,i,a,u,c,l,s,f,v,d,p,y,h,b;if("object"!==typeof r||!r.react)n.push(null!==(o=null===(i=e.pluginsByKey)||void 0===i?void 0:i.react)&&void 0!==o?o:Do());if("object"!==typeof r||!r.history)n.push(null!==(a=null===(u=e.pluginsByKey)||void 0===u?void 0:u.history)&&void 0!==a?a:Ao());if("object"!==typeof r||!r.eventEditor)n.push(null!==(c=null===(l=e.pluginsByKey)||void 0===l?void 0:l["event-editor"])&&void 0!==c?c:Eo());if("object"!==typeof r||!r.inlineVoid)n.push(null!==(s=null===(f=e.pluginsByKey)||void 0===f?void 0:f["inline-void"])&&void 0!==s?s:To());if("object"!==typeof r||!r.insertData)n.push(null!==(v=null===(d=e.pluginsByKey)||void 0===d?void 0:d.insertData)&&void 0!==v?v:No());if("object"!==typeof r||!r.deserializeHtml)n.push(null!==(p=null===(y=e.pluginsByKey)||void 0===y?void 0:y.deserializeHtml)&&void 0!==p?p:vi());if("object"!==typeof r||!r.deserializeAst)n.push(null!==(h=null===(b=e.pluginsByKey)||void 0===b?void 0:b.deserializeAst)&&void 0!==h?h:ko())}n=[...n,...r],e.plugins=[],e.pluginsByKey={},ji(e,n),e.plugins.forEach((t=>{if(t.overrideByKey){const r=e.plugins.map((e=>mo(e,t.overrideByKey)));e.plugins=[],e.pluginsByKey={},ji(e,r)}})),Ei(e.id).incrementKey("keyPlugins")},mi=(e,{id:t="main",plugins:r=[],disableCorePlugins:n}={})=>{let o=e;return o.id=t,o.key||(o.key=Math.random()),wi(o,{plugins:r,disableCorePlugins:n}),o.plugins.forEach((e=>{e.withOverrides&&(o=e.withOverrides(o,e))})),o},_i=(e={})=>(0,i.MT)(`plate-${e.id}`)({id:"main",value:[{type:Xr,children:[{text:""}]}],editor:null,keyEditor:1,keyPlugins:1,keySelection:1,decorate:null,enabled:!0,editableProps:null,onChange:null,plugins:[],renderElement:null,renderLeaf:null,...e}).extendActions(((t,r)=>({resetEditor:()=>{var o;t.editor(mi((0,n.createEditor)(),{id:e.id,plugins:null===(o=r.editor())||void 0===o?void 0:o.plugins}))},incrementKey:e=>{var n;const o=null!==(n=r[e]())&&void 0!==n?n:1;t[e](o+1)}}))),Oi=_i({id:"loading"}),ki=e=>{e=(e=>{var t,r,n;if(e)return e;const o=null===(t=lo.focus)||void 0===t?void 0:t.call(lo);if(o)return o;const i=null===(r=lo.blur)||void 0===r?void 0:r.call(lo);if(i)return i;const a=null===(n=lo.last)||void 0===n?void 0:n.call(lo);return null!==a&&void 0!==a?a:"main"})(e);return xi.get.get(e)||Oi},xi=(0,i.MT)("plate")({}).extendActions((e=>({set:t=>{e.state((e=>{t&&!e[t]&&(e[t]=_i({id:t}),co.last(t))}))},unset:t=>{e.state((e=>{delete e[t]}))}}))).extendSelectors((e=>({get:t=>e[t],has:t=>!!e[t]}))),Ei=(xi.set,xi.get,xi.use,e=>ki(e).set),Ai=(e,t)=>{if(!t(e))return;let r=e.firstChild;for(;r;){const n=r,o=r.previousSibling;r=r.nextSibling,Ai(n,t),n.previousSibling||n.nextSibling||n.parentNode||!r||o===r.previousSibling||!r.parentNode?n.previousSibling||n.nextSibling||n.parentNode||!r||r.previousSibling||r.nextSibling||r.parentNode||(o?r=o.nextSibling?o.nextSibling.nextSibling:null:e.firstChild&&(r=e.firstChild.nextSibling)):r=o?o.nextSibling:e.firstChild}},Si=(e,t)=>{Ai(e,(e=>!ui(e)||t(e)))},Ti=(e,t)=>!!((e,t)=>{let r=null;return Si(e,(e=>!t(e)||(r=e,!1))),r})(e,t)}}]);