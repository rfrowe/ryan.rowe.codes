"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30],{46264:function(t,e,r){r.d(e,{xje:function(){return yo}});r(67294);var n=r(60406),o=r(92764),i=r(72606),a=r(57645);r(97762);var u=Array.isArray;var c=function(){if(!arguments.length)return[];var t=arguments[0];return u(t)?t:[t]};const l=n.Element.isElement,s=t=>n.Editor.isEditor(t)||l(t);var f=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o};var v=function(){this.__data__=[],this.size=0};var p=function(t,e){return t===e||t!==t&&e!==e};var d=function(t,e){for(var r=t.length;r--;)if(p(t[r][0],e))return r;return-1},y=Array.prototype.splice;var h=function(t){var e=this.__data__,r=d(e,t);return!(r<0)&&(r==e.length-1?e.pop():y.call(e,r,1),--this.size,!0)};var b=function(t){var e=this.__data__,r=d(e,t);return r<0?void 0:e[r][1]};var g=function(t){return d(this.__data__,t)>-1};var j=function(t,e){var r=this.__data__,n=d(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function w(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}w.prototype.clear=v,w.prototype.delete=h,w.prototype.get=b,w.prototype.has=g,w.prototype.set=j;var m=w;var _=function(){this.__data__=new m,this.size=0};var O=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var k=function(t){return this.__data__.get(t)};var x=function(t){return this.__data__.has(t)},A="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{};function E(t,e){return t(e={exports:{}},e.exports),e.exports}var P="object"==typeof A&&A&&A.Object===Object&&A,T="object"==typeof self&&self&&self.Object===Object&&self,S=P||T||Function("return this")(),B=S.Symbol,D=Object.prototype,z=D.hasOwnProperty,K=D.toString,N=B?B.toStringTag:void 0;var C=function(t){var e=z.call(t,N),r=t[N];try{t[N]=void 0;var n=!0}catch(i){}var o=K.call(t);return n&&(e?t[N]=r:delete t[N]),o},M=Object.prototype.toString;var F=function(t){return M.call(t)},I=B?B.toStringTag:void 0;var H=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":I&&I in Object(t)?C(t):F(t)};var L=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var U=function(t){if(!L(t))return!1;var e=H(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},R=S["__core-js_shared__"],V=function(){var t=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var $=function(t){return!!V&&V in t},W=Function.prototype.toString;var q=function(t){if(null!=t){try{return W.call(t)}catch(e){}try{return t+""}catch(e){}}return""},G=/^\[object .+?Constructor\]$/,J=Function.prototype,X=Object.prototype,Y=J.toString,Q=X.hasOwnProperty,Z=RegExp("^"+Y.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var tt=function(t){return!(!L(t)||$(t))&&(U(t)?Z:G).test(q(t))};var et=function(t,e){return null==t?void 0:t[e]};var rt=function(t,e){var r=et(t,e);return tt(r)?r:void 0},nt=rt(S,"Map"),ot=rt(Object,"create");var it=function(){this.__data__=ot?ot(null):{},this.size=0};var at=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ut=Object.prototype.hasOwnProperty;var ct=function(t){var e=this.__data__;if(ot){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return ut.call(e,t)?e[t]:void 0},lt=Object.prototype.hasOwnProperty;var st=function(t){var e=this.__data__;return ot?void 0!==e[t]:lt.call(e,t)};var ft=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ot&&void 0===e?"__lodash_hash_undefined__":e,this};function vt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vt.prototype.clear=it,vt.prototype.delete=at,vt.prototype.get=ct,vt.prototype.has=st,vt.prototype.set=ft;var pt=vt;var dt=function(){this.size=0,this.__data__={hash:new pt,map:new(nt||m),string:new pt}};var yt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var ht=function(t,e){var r=t.__data__;return yt(e)?r["string"==typeof e?"string":"hash"]:r.map};var bt=function(t){var e=ht(this,t).delete(t);return this.size-=e?1:0,e};var gt=function(t){return ht(this,t).get(t)};var jt=function(t){return ht(this,t).has(t)};var wt=function(t,e){var r=ht(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function mt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mt.prototype.clear=dt,mt.prototype.delete=bt,mt.prototype.get=gt,mt.prototype.has=jt,mt.prototype.set=wt;var _t=mt;var Ot=function(t,e){var r=this.__data__;if(r instanceof m){var n=r.__data__;if(!nt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new _t(n)}return r.set(t,e),this.size=r.size,this};function kt(t){var e=this.__data__=new m(t);this.size=e.size}kt.prototype.clear=_,kt.prototype.delete=O,kt.prototype.get=k,kt.prototype.has=x,kt.prototype.set=Ot;var xt=kt;var At=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var Et=function(t){return this.__data__.has(t)};function Pt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new _t;++e<r;)this.add(t[e])}Pt.prototype.add=Pt.prototype.push=At,Pt.prototype.has=Et;var Tt=Pt;var St=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var Bt=function(t,e){return t.has(e)};var Dt=function(t,e,r,n,o,i){var a=1&r,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=i.get(t),s=i.get(e);if(l&&s)return l==e&&s==t;var f=-1,v=!0,p=2&r?new Tt:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var d=t[f],y=e[f];if(n)var h=a?n(y,d,f,e,t,i):n(d,y,f,t,e,i);if(void 0!==h){if(h)continue;v=!1;break}if(p){if(!St(e,(function(t,e){if(!Bt(p,e)&&(d===t||o(d,t,r,n,i)))return p.push(e)}))){v=!1;break}}else if(d!==y&&!o(d,y,r,n,i)){v=!1;break}}return i.delete(t),i.delete(e),v},zt=S.Uint8Array;var Kt=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var Nt=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},Ct=B?B.prototype:void 0,Mt=Ct?Ct.valueOf:void 0;var Ft=function(t,e,r,n,o,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new zt(t),new zt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return p(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Kt;case"[object Set]":var c=1&n;if(u||(u=Nt),t.size!=e.size&&!c)return!1;var l=a.get(t);if(l)return l==e;n|=2,a.set(t,e);var s=Dt(u(t),u(e),n,o,i,a);return a.delete(t),s;case"[object Symbol]":if(Mt)return Mt.call(t)==Mt.call(e)}return!1};var It=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t};var Ht=function(t,e,r){var n=e(t);return u(t)?n:It(n,r(t))};var Lt=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i};var Ut=function(){return[]},Rt=Object.prototype.propertyIsEnumerable,Vt=Object.getOwnPropertySymbols,$t=Vt?function(t){return null==t?[]:(t=Object(t),Lt(Vt(t),(function(e){return Rt.call(t,e)})))}:Ut;var Wt=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var qt=function(t){return null!=t&&"object"==typeof t};var Gt=function(t){return qt(t)&&"[object Arguments]"==H(t)},Jt=Object.prototype,Xt=Jt.hasOwnProperty,Yt=Jt.propertyIsEnumerable,Qt=Gt(function(){return arguments}())?Gt:function(t){return qt(t)&&Xt.call(t,"callee")&&!Yt.call(t,"callee")},Zt=Qt;var te=function(){return!1},ee=E((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?S.Buffer:void 0,i=(o?o.isBuffer:void 0)||te;t.exports=i})),re=/^(?:0|[1-9]\d*)$/;var ne=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&re.test(t))&&t>-1&&t%1==0&&t<e};var oe=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ie={};ie["[object Float32Array]"]=ie["[object Float64Array]"]=ie["[object Int8Array]"]=ie["[object Int16Array]"]=ie["[object Int32Array]"]=ie["[object Uint8Array]"]=ie["[object Uint8ClampedArray]"]=ie["[object Uint16Array]"]=ie["[object Uint32Array]"]=!0,ie["[object Arguments]"]=ie["[object Array]"]=ie["[object ArrayBuffer]"]=ie["[object Boolean]"]=ie["[object DataView]"]=ie["[object Date]"]=ie["[object Error]"]=ie["[object Function]"]=ie["[object Map]"]=ie["[object Number]"]=ie["[object Object]"]=ie["[object RegExp]"]=ie["[object Set]"]=ie["[object String]"]=ie["[object WeakMap]"]=!1;var ae=function(t){return qt(t)&&oe(t.length)&&!!ie[H(t)]};var ue=function(t){return function(e){return t(e)}},ce=E((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&P.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=i})),le=ce&&ce.isTypedArray,se=le?ue(le):ae,fe=Object.prototype.hasOwnProperty;var ve=function(t,e){var r=u(t),n=!r&&Zt(t),o=!r&&!n&&ee(t),i=!r&&!n&&!o&&se(t),a=r||n||o||i,c=a?Wt(t.length,String):[],l=c.length;for(var s in t)!e&&!fe.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ne(s,l))||c.push(s);return c},pe=Object.prototype;var de=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||pe)};var ye=function(t,e){return function(r){return t(e(r))}},he=ye(Object.keys,Object),be=Object.prototype.hasOwnProperty;var ge=function(t){if(!de(t))return he(t);var e=[];for(var r in Object(t))be.call(t,r)&&"constructor"!=r&&e.push(r);return e};var je=function(t){return null!=t&&oe(t.length)&&!U(t)};var we=function(t){return je(t)?ve(t):ge(t)};var me=function(t){return Ht(t,we,$t)},_e=Object.prototype.hasOwnProperty;var Oe=function(t,e,r,n,o,i){var a=1&r,u=me(t),c=u.length;if(c!=me(e).length&&!a)return!1;for(var l=c;l--;){var s=u[l];if(!(a?s in e:_e.call(e,s)))return!1}var f=i.get(t),v=i.get(e);if(f&&v)return f==e&&v==t;var p=!0;i.set(t,e),i.set(e,t);for(var d=a;++l<c;){var y=t[s=u[l]],h=e[s];if(n)var b=a?n(h,y,s,e,t,i):n(y,h,s,t,e,i);if(!(void 0===b?y===h||o(y,h,r,n,i):b)){p=!1;break}d||(d="constructor"==s)}if(p&&!d){var g=t.constructor,j=e.constructor;g==j||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof j&&j instanceof j||(p=!1)}return i.delete(t),i.delete(e),p},ke=rt(S,"DataView"),xe=rt(S,"Promise"),Ae=rt(S,"Set"),Ee=rt(S,"WeakMap"),Pe="[object Map]",Te="[object Promise]",Se="[object Set]",Be="[object WeakMap]",De="[object DataView]",ze=q(ke),Ke=q(nt),Ne=q(xe),Ce=q(Ae),Me=q(Ee),Fe=H;(ke&&Fe(new ke(new ArrayBuffer(1)))!=De||nt&&Fe(new nt)!=Pe||xe&&Fe(xe.resolve())!=Te||Ae&&Fe(new Ae)!=Se||Ee&&Fe(new Ee)!=Be)&&(Fe=function(t){var e=H(t),r="[object Object]"==e?t.constructor:void 0,n=r?q(r):"";if(n)switch(n){case ze:return De;case Ke:return Pe;case Ne:return Te;case Ce:return Se;case Me:return Be}return e});var Ie=Fe,He="[object Arguments]",Le="[object Array]",Ue="[object Object]",Re=Object.prototype.hasOwnProperty;var Ve=function(t,e,r,n,o,i){var a=u(t),c=u(e),l=a?Le:Ie(t),s=c?Le:Ie(e),f=(l=l==He?Ue:l)==Ue,v=(s=s==He?Ue:s)==Ue,p=l==s;if(p&&ee(t)){if(!ee(e))return!1;a=!0,f=!1}if(p&&!f)return i||(i=new xt),a||se(t)?Dt(t,e,r,n,o,i):Ft(t,e,l,r,n,o,i);if(!(1&r)){var d=f&&Re.call(t,"__wrapped__"),y=v&&Re.call(e,"__wrapped__");if(d||y){var h=d?t.value():t,b=y?e.value():e;return i||(i=new xt),o(h,b,r,n,i)}}return!!p&&(i||(i=new xt),Oe(t,e,r,n,o,i))};var $e=function t(e,r,n,o,i){return e===r||(null==e||null==r||!qt(e)&&!qt(r)?e!==e&&r!==r:Ve(e,r,n,o,t,i))};var We=function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=r[o])[0],l=t[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in t))return!1}else{var f=new xt;if(n)var v=n(l,s,c,t,e,f);if(!(void 0===v?$e(s,l,3,n,f):v))return!1}}return!0};var qe=function(t){return t===t&&!L(t)};var Ge=function(t){for(var e=we(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,qe(o)]}return e};var Je=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}};var Xe=function(t){var e=Ge(t);return 1==e.length&&e[0][2]?Je(e[0][0],e[0][1]):function(r){return r===t||We(r,t,e)}};var Ye=function(t){return"symbol"==typeof t||qt(t)&&"[object Symbol]"==H(t)},Qe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ze=/^\w*$/;var tr=function(t,e){if(u(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Ye(t))||(Ze.test(t)||!Qe.test(t)||null!=e&&t in Object(e))};function er(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(er.Cache||_t),r}er.Cache=_t;var rr=er;var nr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,or=/\\(\\)?/g,ir=function(t){var e=rr(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nr,(function(t,r,n,o){e.push(n?o.replace(or,"$1"):r||t)})),e})),ar=ir,ur=B?B.prototype:void 0,cr=ur?ur.toString:void 0;var lr=function t(e){if("string"==typeof e)return e;if(u(e))return f(e,t)+"";if(Ye(e))return cr?cr.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r};var sr=function(t){return null==t?"":lr(t)};var fr=function(t,e){return u(t)?t:tr(t,e)?[t]:ar(sr(t))};var vr=function(t){if("string"==typeof t||Ye(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var pr=function(t,e){for(var r=0,n=(e=fr(e,t)).length;null!=t&&r<n;)t=t[vr(e[r++])];return r&&r==n?t:void 0};var dr=function(t,e,r){var n=null==t?void 0:pr(t,e);return void 0===n?r:n};var yr=function(t,e){return null!=t&&e in Object(t)};var hr=function(t,e,r){for(var n=-1,o=(e=fr(e,t)).length,i=!1;++n<o;){var a=vr(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&oe(o)&&ne(a,o)&&(u(t)||Zt(t))};var br=function(t,e){return null!=t&&hr(t,e,yr)};var gr=function(t,e){return tr(t)&&qe(e)?Je(vr(t),e):function(r){var n=dr(r,t);return void 0===n&&n===e?br(r,t):$e(e,n,3)}};var jr=function(t){return t};var wr=function(t){return function(e){return null==e?void 0:e[t]}};var mr=function(t){return function(e){return pr(e,t)}};var _r=function(t){return tr(t)?wr(vr(t)):mr(t)};var Or=function(t){return"function"==typeof t?t:null==t?jr:"object"==typeof t?u(t)?gr(t[0],t[1]):Xe(t):_r(t)};var kr=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===r(i[c],c,i))break}return e}}();var xr=function(t,e){return function(r,n){if(null==r)return r;if(!je(r))return t(r,n);for(var o=r.length,i=e?o:-1,a=Object(r);(e?i--:++i<o)&&!1!==n(a[i],i,a););return r}}((function(t,e){return t&&kr(t,e,we)}));const Ar=(t,{filter:e,allow:r,exclude:n}={})=>{if(!t)return!1;if(e&&!e(t))return!1;if(r){const e=c(r);if(e.length&&!e.includes(t[0].type))return!1}if(n){const e=c(n);if(e.length&&e.includes(t[0].type))return!1}return!0};n.Text.isText;const Er=(t,e)=>{var r;return null!==(r=(t=>null!==t&&void 0!==t&&t.pluginsByKey?t.pluginsByKey:{})(t)[e])&&void 0!==r?r:{key:e}},Pr=(t,e)=>{var r,n;return null!==(r=null!==(n=Er(t,e).type)&&void 0!==n?n:e)&&void 0!==r?r:""};var Tr=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},Sr=Math.max;var Br=function(t,e,r){return e=Sr(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=Sr(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=n[o];return u[e]=r(a),Tr(t,this,u)}};var Dr=function(t){return function(){return t}},zr=function(){try{var t=rt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),Kr=zr?function(t,e){return zr(t,"toString",{configurable:!0,enumerable:!1,value:Dr(e),writable:!0})}:jr,Nr=Date.now;var Cr=function(t){var e=0,r=0;return function(){var n=Nr(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Mr=Cr(Kr);var Fr=function(t,e){return Mr(Br(t,e,jr),t+"")};var Ir=function(t,e,r){if(!L(r))return!1;var n=typeof e;return!!("number"==n?je(r)&&ne(e,r.length):"string"==n&&e in r)&&p(r[e],t)};var Hr=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},Lr=Object.prototype.hasOwnProperty;var Ur=function(t){if(!L(t))return Hr(t);var e=de(t),r=[];for(var n in t)("constructor"!=n||!e&&Lr.call(t,n))&&r.push(n);return r};var Rr=function(t){return je(t)?ve(t,!0):Ur(t)},Vr=Object.prototype,$r=Vr.hasOwnProperty;Fr((function(t,e){t=Object(t);var r=-1,n=e.length,o=n>2?e[2]:void 0;for(o&&Ir(e[0],e[1],o)&&(n=1);++r<n;)for(var i=e[r],a=Rr(i),u=-1,c=a.length;++u<c;){var l=a[u],s=t[l];(void 0===s||p(s,Vr[l])&&!$r.call(t,l))&&(t[l]=i[l])}return t}));const Wr=({node:t,source:e,apply:r,query:n})=>{Ar([t,[]],n)&&r(t,e instanceof Function?e():e),s(t)&&t.children.forEach((t=>{Wr({node:t,source:e,apply:r,query:n})}))},qr="p",Gr=(t,e,r)=>(t=((t,e,r)=>{const n=((t,e)=>t.some(((t,r,n)=>{const o=n[r-1];return 0!==r&&e(t)!==e(o)})))(t,e),{fragment:o}=t.reduce(((t,o)=>{if(n&&e(o)){let e=t.precedingBlock;e||(e=r(),t.precedingBlock=e,t.fragment.push(e)),e.children.push(o)}else t.fragment.push(o),t.precedingBlock=null;return t}),{fragment:[],precedingBlock:null});return o})(t=(t=>t.length?t:[{text:""}])(t),e,r),t=t.map((t=>l(t)?{...t,children:Gr(t.children,e,r)}:t))),Jr=(t,{descendants:e})=>{const r=(t=>e=>n.Text.isText(e)||t.isInline(e))(t),o=Pr(t,qr),i=(a=o,()=>({type:a,children:[]}));var a;return Gr(e,r,i)};var Xr,Yr=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)i["f"+a]=111+a;function u(t,e,r){e&&!("byKey"in e)&&(r=e,e=null),Array.isArray(t)||(t=[t]);var n=t.map((function(t){return c(t,e)})),o=function(t){return n.some((function(e){return l(e,t)}))};return null==r?o:o(r)}function c(t,e){var r=e&&e.byKey,o={},i=(t=t.replace("++","+add")).split("+"),a=i.length;for(var u in n)o[n[u]]=!1;var c=!0,l=!1,v=void 0;try{for(var p,d=i[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var y=p.value,h=y.endsWith("?")&&y.length>1;h&&(y=y.slice(0,-1));var b=f(y),g=n[b];1!==a&&g||(r?o.key=b:o.which=s(y)),g&&(o[g]=!h||null)}}catch(j){l=!0,v=j}finally{try{!c&&d.return&&d.return()}finally{if(l)throw v}}return o}function l(t,e){for(var r in t){var n=t[r],o=void 0;if(null!=n&&((null!=(o="key"===r&&null!=e.key?e.key.toLowerCase():"which"===r?91===n&&93===e.which?91:e.which:e[r])||!1!==n)&&o!==n))return!1}return!0}function s(t){return t=f(t),i[t]||t.toUpperCase().charCodeAt(0)}function f(t){return t=t.toLowerCase(),t=o[t]||t}e.default=u,e.isHotkey=u,e.isCodeHotkey=function(t,e){return u(t,e)},e.isKeyHotkey=function(t,e){return u(t,{byKey:!0},e)},e.parseHotkey=c,e.compareHotkey=l,e.toKeyCode=s,e.toKeyName=f}));(Xr=Yr)&&Xr.__esModule&&Object.prototype.hasOwnProperty.call(Xr,"default")&&Xr.default;Yr.isHotkey,Yr.isCodeHotkey,Yr.isKeyHotkey,Yr.parseHotkey,Yr.compareHotkey,Yr.toKeyCode,Yr.toKeyName;var Qr=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t};var Zr=function(t,e,r){"__proto__"==e&&zr?zr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},tn=Object.prototype.hasOwnProperty;var en=function(t,e,r){var n=t[e];tn.call(t,e)&&p(n,r)&&(void 0!==r||e in t)||Zr(t,e,r)};var rn=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=n?n(r[u],t[u],u,r,t):void 0;void 0===c&&(c=t[u]),o?Zr(r,u,c):en(r,u,c)}return r};var nn=function(t,e){return t&&rn(e,we(e),t)};var on=function(t,e){return t&&rn(e,Rr(e),t)},an=E((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?S.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}}));var un=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var cn=function(t,e){return rn(t,$t(t),e)},ln=ye(Object.getPrototypeOf,Object),sn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)It(e,$t(t)),t=ln(t);return e}:Ut;var fn=function(t,e){return rn(t,sn(t),e)};var vn=function(t){return Ht(t,Rr,sn)},pn=Object.prototype.hasOwnProperty;var dn=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&pn.call(t,"index")&&(r.index=t.index,r.input=t.input),r};var yn=function(t){var e=new t.constructor(t.byteLength);return new zt(e).set(new zt(t)),e};var hn=function(t,e){var r=e?yn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},bn=/\w*$/;var gn=function(t){var e=new t.constructor(t.source,bn.exec(t));return e.lastIndex=t.lastIndex,e},jn=B?B.prototype:void 0,wn=jn?jn.valueOf:void 0;var mn=function(t){return wn?Object(wn.call(t)):{}};var _n=function(t,e){var r=e?yn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var On=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return yn(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return hn(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _n(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return gn(t);case"[object Symbol]":return mn(t)}},kn=Object.create,xn=function(){function t(){}return function(e){if(!L(e))return{};if(kn)return kn(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var An=function(t){return"function"!=typeof t.constructor||de(t)?{}:xn(ln(t))};var En=function(t){return qt(t)&&"[object Map]"==Ie(t)},Pn=ce&&ce.isMap,Tn=Pn?ue(Pn):En;var Sn=function(t){return qt(t)&&"[object Set]"==Ie(t)},Bn=ce&&ce.isSet,Dn=Bn?ue(Bn):Sn,zn="[object Arguments]",Kn="[object Function]",Nn="[object Object]",Cn={};Cn[zn]=Cn["[object Array]"]=Cn["[object ArrayBuffer]"]=Cn["[object DataView]"]=Cn["[object Boolean]"]=Cn["[object Date]"]=Cn["[object Float32Array]"]=Cn["[object Float64Array]"]=Cn["[object Int8Array]"]=Cn["[object Int16Array]"]=Cn["[object Int32Array]"]=Cn["[object Map]"]=Cn["[object Number]"]=Cn[Nn]=Cn["[object RegExp]"]=Cn["[object Set]"]=Cn["[object String]"]=Cn["[object Symbol]"]=Cn["[object Uint8Array]"]=Cn["[object Uint8ClampedArray]"]=Cn["[object Uint16Array]"]=Cn["[object Uint32Array]"]=!0,Cn["[object Error]"]=Cn[Kn]=Cn["[object WeakMap]"]=!1;var Mn=function t(e,r,n,o,i,a){var c,l=1&r,s=2&r,f=4&r;if(n&&(c=i?n(e,o,i,a):n(e)),void 0!==c)return c;if(!L(e))return e;var v=u(e);if(v){if(c=dn(e),!l)return un(e,c)}else{var p=Ie(e),d=p==Kn||"[object GeneratorFunction]"==p;if(ee(e))return an(e,l);if(p==Nn||p==zn||d&&!i){if(c=s||d?{}:An(e),!l)return s?fn(e,on(c,e)):cn(e,nn(c,e))}else{if(!Cn[p])return i?e:{};c=On(e,p,l)}}a||(a=new xt);var y=a.get(e);if(y)return y;a.set(e,c),Dn(e)?e.forEach((function(o){c.add(t(o,r,n,o,e,a))})):Tn(e)&&e.forEach((function(o,i){c.set(i,t(o,r,n,i,e,a))}));var h=v?void 0:(f?s?vn:me:s?Rr:we)(e);return Qr(h||e,(function(o,i){h&&(o=e[i=o]),en(c,i,t(o,r,n,i,e,a))})),c};var Fn=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var In=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i};var Hn=function(t,e){return e.length<2?t:pr(t,In(e,0,-1))};var Ln=function(t,e){return e=fr(e,t),null==(t=Hn(t,e))||delete t[vr(Fn(e))]},Un=Function.prototype,Rn=Object.prototype,Vn=Un.toString,$n=Rn.hasOwnProperty,Wn=Vn.call(Object);var qn=function(t){if(!qt(t)||"[object Object]"!=H(t))return!1;var e=ln(t);if(null===e)return!0;var r=$n.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Vn.call(r)==Wn};var Gn=function(t){return qn(t)?void 0:t},Jn=B?B.isConcatSpreadable:void 0;var Xn=function(t){return u(t)||Zt(t)||!!(Jn&&t&&t[Jn])};var Yn=function t(e,r,n,o,i){var a=-1,u=e.length;for(n||(n=Xn),i||(i=[]);++a<u;){var c=e[a];r>0&&n(c)?r>1?t(c,r-1,n,o,i):It(i,c):o||(i[i.length]=c)}return i};var Qn=function(t){return(null==t?0:t.length)?Yn(t,1):[]};Zn=function(t,e){var r={};if(null==t)return r;var n=!1;e=f(e,(function(e){return e=fr(e,t),n||(n=e.length>1),e})),rn(t,vn(t),r),n&&(r=Mn(r,7,Gn));for(var o=e.length;o--;)Ln(r,e[o]);return r},Mr(Br(Zn,void 0,Qn),Zn+"");var Zn;const to=(0,i.MT)("event-editor")({blur:null,focus:null,last:null}),eo=to.set,ro=to.get;to.use;var no=function(t,e,r){(void 0!==r&&!p(t[e],r)||void 0===r&&!(e in t))&&Zr(t,e,r)};var oo=function(t){return qt(t)&&je(t)};var io=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]};var ao=function(t){return rn(t,Rr(t))};var uo=function(t,e,r,n,o,i,a){var c=io(t,r),l=io(e,r),s=a.get(l);if(s)no(t,r,s);else{var f=i?i(c,l,r+"",t,e,a):void 0,v=void 0===f;if(v){var p=u(l),d=!p&&ee(l),y=!p&&!d&&se(l);f=l,p||d||y?u(c)?f=c:oo(c)?f=un(c):d?(v=!1,f=an(l,!0)):y?(v=!1,f=_n(l,!0)):f=[]:qn(l)||Zt(l)?(f=c,Zt(c)?f=ao(c):L(c)&&!U(c)||(f=An(l))):v=!1}v&&(a.set(l,f),o(f,l,n,i,a),a.delete(l)),no(t,r,f)}};var co=function t(e,r,n,o,i){e!==r&&kr(r,(function(a,u){if(i||(i=new xt),L(a))uo(e,r,u,n,t,o,i);else{var c=o?o(io(e,u),a,u+"",e,r,i):void 0;void 0===c&&(c=a),no(e,u,c)}}),Rr)};var lo=function t(e,r,n,o,i,a){return L(e)&&L(r)&&(a.set(r,e),co(e,r,void 0,t,a),a.delete(r)),e};var so=function(t){return Fr((function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Ir(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,i)}return e}))},fo=so((function(t,e,r,n){co(t,e,r,n)})),vo=Fr((function(t){return t.push(void 0,lo),Tr(fo,void 0,t)}));const po=(t,e={},r)=>{var n;if(e[t.key]){const{plugins:n,then:o,...i}=e[t.key];t=vo(i,t),r||null===n||void 0===n||n.forEach((e=>{t.plugins||(t.plugins=[]);t.plugins.find((t=>t.key===e.key))||t.plugins.push(e)}))}t.plugins&&(t.plugins=t.plugins.map((t=>po(t,e,!0))));const{then:o}=t;return o?t.then=(r,n)=>{const i={key:t.key,...o(r,n)};return vo(po(i,e),i)}:null!==(n=e[t.key])&&void 0!==n&&n.then&&(t.then=e[t.key].then),t},yo=t=>(e,r={})=>(r[t.key]=e,po({...t},r)),ho="deserializeAst",bo=yo({key:ho,editor:{insertData:{format:"application/x-slate-fragment",getFragment:({data:t})=>{const e=decodeURIComponent(window.atob(t));return JSON.parse(e)}}}}),go="event-editor",jo=yo({key:go,handlers:{onFocus:t=>()=>{var e;null===(e=eo.focus)||void 0===e||e.call(eo,t.id)},onBlur:t=>()=>{var e;null===(e=eo.blur)||void 0===e||e.call(eo,t.id)}}}),wo=yo({key:"history",withOverrides:a.VC}),mo="inline-void",_o=yo({key:mo,withOverrides:t=>{const{isInline:e}=t,{isVoid:r}=t,n=[],o=[];return t.plugins.forEach((t=>{t.isInline&&n.push(t.type),t.isVoid&&o.push(t.type)})),t.isInline=t=>!!n.includes(t.type)||e(t),t.isVoid=t=>!!o.includes(t.type)||r(t),t}}),Oo=(t,e)=>{const r=[];return[...t.plugins].reverse().forEach((t=>{var n;const o=null===(n=t.inject.pluginsByKey)||void 0===n?void 0:n[e.key];o&&r.push(o)})),[e,...r]},ko="insertData",xo=yo({key:ko,withOverrides:t=>{const{insertData:e}=t;return t.insertData=r=>{const o=[...t.plugins].reverse().some((e=>{var o;const i=e.editor.insertData;if(!i)return!1;const a=Oo(t,e),{format:u,getFragment:c}=i;if(!u)return!1;let l=r.getData(u);if(!l)return;if(!((t,{data:e,dataTransfer:r})=>t.every((t=>{var n,o;const i=null===(n=t.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.query;return!i||i({data:e,dataTransfer:r})})))(a,{data:l,dataTransfer:r}))return!1;l=((t,{data:e,dataTransfer:r})=>(t.forEach((t=>{var n,o;const i=null===(n=t.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.transformData;i&&(e=i(e,{dataTransfer:r}))})),e))(a,{data:l,dataTransfer:r});let s=null===c||void 0===c?void 0:c({data:l,dataTransfer:r});return!(null===(o=s)||void 0===o||!o.length)&&(s=((t,{fragment:e,...r})=>(t.forEach((t=>{var n,o;const i=null===(n=t.editor)||void 0===n||null===(o=n.insertData)||void 0===o?void 0:o.transformFragment;i&&(e=i(e,r))})),e))(a,{fragment:s,data:l,dataTransfer:r}),!!s.length&&(((t,e,{fragment:r,...o})=>{n.Editor.withoutNormalizing(t,(()=>{e.some((t=>{var e,n,i;return!0===(null===(e=t.editor)||void 0===e||null===(n=e.insertData)||void 0===n||null===(i=n.preInsert)||void 0===i?void 0:i.call(n,r,o))})),t.insertFragment(r)}))})(t,a,{fragment:s,data:l,dataTransfer:r}),!0))}));o||e(r)},t}}),Ao=yo({key:"react",withOverrides:o.withReact});function Eo(t){return"[object Object]"===Object.prototype.toString.call(t)}function Po(t){var e,r;return!1!==Eo(t)&&(void 0===(e=t.constructor)||!1!==Eo(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}function To(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var So=new WeakMap,Bo=new WeakMap;class Do{}class zo extends Do{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:e,path:r}=t;this.offset=e,this.path=r}}class Ko extends Do{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:e,path:r}=t;this.offset=e,this.path=r}}var No=t=>Bo.get(t);function Co(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Co(Object(r),!0).forEach((function(e){To(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Co(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Fo=new WeakSet,Io=t=>{var e=[],r=t=>{if(null!=t){var o=e[e.length-1];if("string"===typeof t){var i={text:t};Fo.add(i),t=i}if(n.Text.isText(t)){var a=t;n.Text.isText(o)&&Fo.has(o)&&Fo.has(a)&&n.Text.equals(o,a,{loose:!0})?o.text+=a.text:e.push(a)}else if(n.Element.isElement(t))e.push(t);else{if(!(t instanceof Do))throw new Error("Unexpected hyperscript child object: ".concat(t));var u=e[e.length-1];n.Text.isText(u)||(r(""),u=e[e.length-1]),t instanceof zo?((t,e)=>{var r=t.text.length;So.set(t,[r,e])})(u,t):t instanceof Ko&&((t,e)=>{var r=t.text.length;Bo.set(t,[r,e])})(u,t)}}};for(var o of t.flat(1/0))r(o);return e};function Ho(t,e,r){return Mo(Mo({},e),{},{children:Io(r)})}function Lo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Uo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lo(Object(r),!0).forEach((function(e){To(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ro,Vo={anchor:function(t,e,r){return new zo(e)},cursor:function(t,e,r){return[new zo(e),new Ko(e)]},editor:(Ro=n.createEditor,(t,e,r)=>{var o,i=[];for(var a of r)n.Range.isRange(a)?o=a:i.push(a);var u,c=Io(i),l={},s=Ro();for(var[f,v]of(Object.assign(s,e),s.children=c,n.Node.texts(s))){var p=(u=f,So.get(u)),d=No(f);if(null!=p){var[y]=p;l.anchor={path:v,offset:y}}if(null!=d){var[h]=d;l.focus={path:v,offset:h}}}if(l.anchor&&!l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!l.anchor&&l.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=o?s.selection=o:n.Range.isRange(l)&&(s.selection=l),s}),element:Ho,focus:function(t,e,r){return new Ko(e)},fragment:function(t,e,r){return Io(r)},selection:function(t,e,r){var n=r.find((t=>t instanceof zo)),o=r.find((t=>t instanceof Ko));if(!n||null==n.offset||null==n.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return Mo({anchor:{offset:n.offset,path:n.path},focus:{offset:o.offset,path:o.path}},e)},text:function(t,e,r){var o=Io(r);if(o.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[i]=o;if(null==i&&(i={text:""}),!n.Text.isText(i))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return Fo.delete(i),Object.assign(i,e),i}},$o=t=>function(e,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var a=t[e];if(!a)throw new Error("No hyperscript creator found for tag: <".concat(e,">"));null==r&&(r={}),Po(r)||(o=[r].concat(o),r={});var u=a(e,r,o=o.filter((t=>Boolean(t))).flat());return u},Wo=t=>{var e={},r=function(r){var n=t[r];if("object"!==typeof n)throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(n));e[r]=(t,e,r)=>Ho(0,Uo(Uo({},n),e),r)};for(var n in t)r(n);return e},qo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:e={}}=t,r=Wo(e),n=Uo(Uo(Uo({},Vo),r),t.creators),o=$o(n);return o}();const Go=(t,e)=>Array.from(e.childNodes).map(ei(t)).flat(),Jo=(t,e,{element:r,deserializeLeaf:n})=>{var o;const{deserializeHtml:i,isElement:a,isLeaf:u,type:l}=e;if(!i)return;const{attributeNames:s,query:f,isLeaf:v,isElement:p,rules:d}=i;let{getNode:y}=i;const h=p||a,b=v||u;if(!n&&!h)return;if(n&&!b)return;if(d){if(!d.some((({validNodeName:t="*",validStyle:n,validClassName:o,validAttribute:i})=>{if(t){const e=c(t);if(e.length&&!e.includes(r.nodeName)&&"*"!==t)return!1}if(o&&!r.className.includes(o))return!1;if(n)for(const[u,l]of Object.entries(n)){var a;if(!c(l).includes(r.style[u])&&"*"!==l)return;if("*"===l&&!r.style[u])return;const t=null===(a=e.inject.props)||void 0===a?void 0:a.defaultNodeValue;if(t&&t===r.style[u])return!1}if(i)if("string"===typeof i){if(!r.getAttributeNames().includes(i))return!1}else for(const[e,u]of Object.entries(i)){const t=c(u),n=r.getAttribute(e);if(!n||!t.includes(n))return!1}return!0})))return}if(f&&!f(r))return;if(!y)if(h)y=()=>({type:l});else{if(!b)return;y=()=>({[l]:!0})}let g=null!==(o=y(r,{}))&&void 0!==o?o:{};if(!Object.keys(g).length)return;if(Oo(t,e).forEach((t=>{var e,n;const o=null===(e=t.deserializeHtml)||void 0===e||null===(n=e.getNode)||void 0===n?void 0:n.call(e,r,g);o&&(g={...g,...o})})),s){const t={},e=r.getAttributeNames();for(const n of e)s.includes(n)&&(t[n]=r.getAttribute(n));Object.keys(t).length&&(g.attributes=t)}return{...i,node:g}},Xo=(t,e)=>{const r=((t,e)=>{let r;return[...t.plugins].reverse().some((n=>(r=Jo(t,n,{element:e}),!!r))),r})(t,e);if(r){var n;const{node:o,withoutChildren:i}=r;let a=null!==(n=o.children)&&void 0!==n?n:Go(t,e);return a.length&&!i||(a=[{text:""}]),qo("element",o,a)}};var Yo=so((function(t,e,r){co(t,e,r)}));const Qo=(t,e)=>{const r=((t,e)=>{let r={};return[...t.plugins].reverse().forEach((n=>{const o=Jo(t,n,{element:e,deserializeLeaf:!0});o&&(r={...r,...o.node})})),r})(t,e);return Go(t,e).reduce(((t,e)=>{if(!e)return t;if(l(e))Object.keys(r).length&&(o={node:e,source:r,query:{filter:([t])=>n.Text.isText(t)}},Wr({...o,apply:Yo})),t.push(e);else{const n={...r};e.text&&Object.keys(n).forEach((t=>{n[t]&&e[t]&&(n[t]=e[t])})),t.push(qo("text",n,e))}var o;return t}),[])},Zo=t=>t.nodeType===Node.TEXT_NODE,ti=t=>t.nodeType===Node.ELEMENT_NODE,ei=t=>e=>{const r=(t=>{if(Zo(t))return"\n"===t.nodeValue?null:t.textContent})(e);if(r)return r;if(!ti(e))return null;const n=(t=>{if("BR"===t.nodeName)return"\n"})(e);if(n)return n;const o=((t,e)=>{if("BODY"===e.nodeName)return qo("fragment",{},Go(t,e))})(t,e);if(o)return o;const i=Xo(t,e);return i||Qo(t,e)},ri=(t,{element:e,stripWhitespace:r=!0})=>{"string"===typeof e&&(e=((t,e=!0)=>{const r=document.createElement("body");return r.innerHTML=t,e&&(r.innerHTML=r.innerHTML.replace(/(\r\n|\n|\r|\t)/gm,"")),r})(e,r));const n=((t,e)=>ei(t)(e))(t,e);return Jr(t,{descendants:n})},ni=t=>(new DOMParser).parseFromString(t,"text/html"),oi="deserializeHtml",ii=yo({key:oi,then:t=>({editor:{insertData:{format:"text/html",getFragment:({data:e})=>{const r=ni(e);return ri(t,{element:r.body})}}}})});var ai=function(t,e,r,n){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(n,a,r(a),t)}return n};var ui=function(t,e,r,n){return xr(t,(function(t,o,i){e(n,t,r(t),i)})),n};var ci=function(t,e){return function(r,n){var o=u(r)?ai:ui,i=e?e():{};return o(r,t,Or(n),i)}}((function(t,e,r){Zr(t,r,e)}));var li=function(t,e){return f(e,(function(e){return t[e]}))};var si=function(t){return null==t?[]:li(t,we(t))};const fi=(t,e)=>{const r={...e},{then:n}=r;if(n){delete r.then;const{plugins:e}=r,o=fi(t,vo(n(t,r),r));if(e&&o.plugins){const t=Yo(ci(e,"key"),ci(o.plugins,"key"));o.plugins=si(t)}return o}return r},vi=(t,e)=>{e&&e.forEach((e=>{let r=(t=>(void 0===t.type&&(t.type=t.key),t.options||(t.options={}),t.inject||(t.inject={}),t.editor||(t.editor={}),t))(e);if(r=fi(t,r),t.pluginsByKey[r.key]){const e=t.plugins.indexOf(t.pluginsByKey[r.key]),n=vo(r,t.pluginsByKey[r.key]);e>=0&&(t.plugins[e]=n),t.pluginsByKey[r.key]=n}else t.plugins.push(r),t.pluginsByKey[r.key]=r;vi(t,r.plugins)}))},pi=(t,{disableCorePlugins:e,plugins:r=[]})=>{let n=[];if(!0!==e){const r=e;var o,i,a,u,c,l,s,f,v,p,d,y,h,b;if("object"!==typeof r||!r.react)n.push(null!==(o=null===(i=t.pluginsByKey)||void 0===i?void 0:i.react)&&void 0!==o?o:Ao());if("object"!==typeof r||!r.history)n.push(null!==(a=null===(u=t.pluginsByKey)||void 0===u?void 0:u.history)&&void 0!==a?a:wo());if("object"!==typeof r||!r.eventEditor)n.push(null!==(c=null===(l=t.pluginsByKey)||void 0===l?void 0:l["event-editor"])&&void 0!==c?c:jo());if("object"!==typeof r||!r.inlineVoid)n.push(null!==(s=null===(f=t.pluginsByKey)||void 0===f?void 0:f["inline-void"])&&void 0!==s?s:_o());if("object"!==typeof r||!r.insertData)n.push(null!==(v=null===(p=t.pluginsByKey)||void 0===p?void 0:p.insertData)&&void 0!==v?v:xo());if("object"!==typeof r||!r.deserializeHtml)n.push(null!==(d=null===(y=t.pluginsByKey)||void 0===y?void 0:y.deserializeHtml)&&void 0!==d?d:ii());if("object"!==typeof r||!r.deserializeAst)n.push(null!==(h=null===(b=t.pluginsByKey)||void 0===b?void 0:b.deserializeAst)&&void 0!==h?h:bo())}n=[...n,...r],t.plugins=[],t.pluginsByKey={},vi(t,n),t.plugins.forEach((e=>{if(e.overrideByKey){const r=t.plugins.map((t=>po(t,e.overrideByKey)));t.plugins=[],t.pluginsByKey={},vi(t,r)}})),ji(t.id).incrementKey("keyPlugins")},di=(t,{id:e="main",plugins:r=[],disableCorePlugins:n}={})=>{let o=t;return o.id=e,o.key||(o.key=Math.random()),pi(o,{plugins:r,disableCorePlugins:n}),o.plugins.forEach((t=>{t.withOverrides&&(o=t.withOverrides(o,t))})),o},yi=(t={})=>(0,i.MT)(`plate-${t.id}`)({id:"main",value:[{type:qr,children:[{text:""}]}],editor:null,keyEditor:1,keyPlugins:1,keySelection:1,decorate:null,enabled:!0,editableProps:null,onChange:null,plugins:[],renderElement:null,renderLeaf:null,...t}).extendActions(((e,r)=>({resetEditor:()=>{var o;e.editor(di((0,n.createEditor)(),{id:t.id,plugins:null===(o=r.editor())||void 0===o?void 0:o.plugins}))},incrementKey:t=>{var n;const o=null!==(n=r[t]())&&void 0!==n?n:1;e[t](o+1)}}))),hi=yi({id:"loading"}),bi=t=>{t=(t=>{var e,r,n;if(t)return t;const o=null===(e=ro.focus)||void 0===e?void 0:e.call(ro);if(o)return o;const i=null===(r=ro.blur)||void 0===r?void 0:r.call(ro);if(i)return i;const a=null===(n=ro.last)||void 0===n?void 0:n.call(ro);return null!==a&&void 0!==a?a:"main"})(t);return gi.get.get(t)||hi},gi=(0,i.MT)("plate")({}).extendActions((t=>({set:e=>{t.state((t=>{e&&!t[e]&&(t[e]=yi({id:e}),eo.last(e))}))},unset:e=>{t.state((t=>{delete t[e]}))}}))).extendSelectors((t=>({get:e=>t[e],has:e=>!!t[e]}))),ji=(gi.set,gi.get,gi.use,t=>bi(t).set)}}]);